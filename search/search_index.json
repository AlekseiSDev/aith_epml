{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Wine Quality EPML Project","text":"<p>Welcome to the documentation for the Wine Quality ML Engineering project.</p> <p>This project focuses on building a robust machine learning pipeline for wine quality prediction, incorporating best practices in MLOps, including:</p> <ul> <li>Data Versioning: Using DVC for tracking datasets and models.</li> <li>Pipeline Automation: Using Luigi for orchestrating tasks.</li> <li>Experiment Tracking: Tracking metrics and parameters.</li> <li>Documentation: Automated documentation with MkDocs (Docs-as-Code).</li> </ul>"},{"location":"#navigation","title":"Navigation","text":"<ul> <li>Guides - How to use the pipeline and tools.</li> <li>Reports - Homework reports and experiment results.</li> <li>API Reference - Technical documentation of the source code.</li> </ul>"},{"location":"hw1_report/","title":"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0414\u0417: wine_quality_epml","text":""},{"location":"hw1_report/#_1","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<ul> <li>\u041a\u0430\u0440\u043a\u0430\u0441 \u0432 \u0441\u0442\u0438\u043b\u0435 Cookiecutter DS: <code>data/</code>, <code>notebooks/</code>, <code>models/</code>, <code>docs/</code>, <code>reports/</code>, <code>src/wine_quality_epml/</code>.</li> <li>\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (<code>WineQT.csv</code>) \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f \u0432 <code>data/</code>.</li> </ul>"},{"location":"hw1_report/#_2","title":"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0434\u0430","text":"<ul> <li>Ruff: \u0444\u043e\u0440\u043c\u0430\u0442\u0435\u0440 \u0438 \u043b\u0438\u043d\u0442\u0435\u0440 \u0441 security-\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 <code>S</code> (<code>pyproject.toml</code>).</li> <li>MyPy: \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f (<code>mypy.ini</code>).</li> <li>pre-commit: \u0445\u0443\u043a\u0438 \u043d\u0430 Ruff (fmt+lint) \u0438 MyPy (<code>.pre-commit-config.yaml</code>).</li> </ul>"},{"location":"hw1_report/#_3","title":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438","text":"<ul> <li>\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440: <code>uv</code>, \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0438 \u043f\u0438\u043d\u044b \u0432 <code>pyproject.toml</code>, \u043b\u043e\u043a-\u0444\u0430\u0439\u043b <code>uv.lock</code>.</li> <li>Dev-\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438: <code>ruff</code>, <code>mypy</code>, <code>pre-commit</code> (\u0441\u043c. <code>[tool.uv].dev-dependencies</code>).</li> <li>\u0412\u0438\u0440\u0442\u0443\u0430\u043b\u043a\u0430 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430:   <code>bash   uv venv .venv   source .venv/bin/activate   uv sync --dev   uv run pre-commit install</code></li> </ul>"},{"location":"hw1_report/#docker","title":"Docker","text":"<ul> <li>\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043e\u0431\u0440\u0430\u0437: <code>python:3.10-slim</code>, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 <code>uv</code>, \u0441\u0431\u043e\u0440\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0438\u0437 <code>pyproject.toml</code>/<code>uv.lock</code>.</li> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u044b: <code>docker build -t wine-quality-epml .</code>, \u0437\u0430\u0442\u0435\u043c <code>docker run --rm -it wine-quality-epml</code>.</li> </ul>"},{"location":"hw1_report/#git-workflow","title":"Git workflow","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u0435\u0442\u043a\u0438: <code>master</code> (\u0438\u043b\u0438 <code>main</code>) \u0438 <code>develop</code>; \u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u0444\u0438\u0447\u0438 \u0432 <code>feature/&lt;task&gt;</code>, \u0445\u043e\u0442\u0444\u0438\u043a\u0441\u044b \u0432 <code>hotfix/&lt;issue&gt;</code>.</li> <li>\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0432\u0435\u043b\u0430\u0441\u044c \u0432 <code>master</code>; \u0434\u0430\u043b\u0435\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u0432\u0435\u0442\u043a\u0430\u0445 <code>feature/&lt;task&gt;</code> (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>feature/hw_2</code>) \u0441 PR \u0432 <code>develop</code>, \u0430 \u0437\u0430\u0442\u0435\u043c \u0432 <code>master</code>.</li> </ul>"},{"location":"hw1_report/#_4","title":"\u0421\u043a\u0440\u0438\u043d\u0448\u043e\u0442","text":""},{"location":"hw2_report_models_and_data_vcs/","title":"HW2 \u2014 \u043e\u0442\u0447\u0435\u0442 \u043f\u043e \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043c\u043e\u0434\u0435\u043b\u0435\u0439","text":"<p>\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0434\u043e\u0432\u0435\u0434\u0435\u043d \u0434\u043e \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f: \u0434\u0430\u043d\u043d\u044b\u0435/\u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b \u043f\u043e\u0434 DVC \u0441 GCS-remote, \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0438\u043d\u043e\u0432\u0430\u043d\u044b (uv.lock), \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0434\u043e\u043c \u0447\u0435\u0440\u0435\u0437 pre-commit, \u0441\u043e\u0431\u0440\u0430\u043d Docker-\u043e\u0431\u0440\u0430\u0437 \u0441 gcloud+DVC \u0432\u043d\u0443\u0442\u0440\u0438.</p>"},{"location":"hw2_report_models_and_data_vcs/#_1","title":"\u0428\u0430\u0433\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438","text":"<p>1) \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043b\u0438 DVC \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u044b\u0445: \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 <code>.dvc</code> \u0434\u043b\u044f <code>data/raw/WineQT.csv</code> \u0438 <code>data/splits/*.csv</code>, remote <code>gs://aith_epml</code>, \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u0435\u0448 <code>DVC_SITE_CACHE_DIR=\"$PWD/.dvc/site-cache\"</code>. 2) \u0421\u0442\u0430\u0431\u0438\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043a\u043e\u0434 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430: <code>uv sync --dev</code>, \u0445\u0443\u043a\u0438 <code>uv run pre-commit install</code>, \u043f\u0440\u043e\u0433\u043e\u043d <code>uv run pre-commit run --all-files</code>. 3) \u041e\u0431\u043d\u043e\u0432\u0438\u043b\u0438 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u043c\u043e\u0434\u0435\u043b\u0435\u0439:    - <code>train_baseline.py</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u0438\u0448\u0435\u0442 \u043c\u043e\u0434\u0435\u043b\u044c \u0438 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 train+eval (<code>models/&lt;tag&gt;_train_eval_metrics.json</code>).    - \u041e\u0431\u0449\u0438\u0439 <code>evaluate_model.py</code> \u2014 \u044f\u0434\u0440\u043e \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u0439/\u043c\u0435\u0442\u0440\u0438\u043a.    - <code>test_model.py</code> \u2014 \u0442\u0435\u0441\u0442\u043e\u0432\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438.    - \u0410\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b <code>linear_v1</code> \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u044b \u0432 DVC. 4) \u0421\u043e\u0431\u0440\u0430\u043b\u0438 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u044b\u0439 \u043e\u0431\u0440\u0430\u0437: Dockerfile \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 <code>gcloud</code> \u0438 <code>dvc[gs]</code>, \u043f\u043e\u0434\u0442\u044f\u0433\u0438\u0432\u0430\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 uv, \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 <code>.dvc</code> \u0432 \u043e\u0431\u0440\u0430\u0437\u0435; \u0432 <code>PATH</code> \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043d\u0430 <code>.venv</code>. 5) \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043b\u0438 end-to-end \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435: \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f <code>gcloud auth application-default login</code>, <code>dvc pull</code>, \u0437\u0430\u043f\u0443\u0441\u043a <code>test_model.py</code> \u043d\u0430 \u0441\u043a\u0430\u0447\u0430\u043d\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438.</p>"},{"location":"hw2_report_models_and_data_vcs/#_2","title":"\u041a\u043e\u043c\u0430\u043d\u0434\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438","text":"<pre><code># DVC: \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0441\u043f\u043b\u0438\u0442\u044b\ndvc add data/raw/WineQT.csv data/splits/train.csv data/splits/eval.csv data/splits/test.csv\ndvc push\ngit add data/raw/WineQT.csv.dvc data/splits/*.dvc\n\n# \u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0438 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 (train+eval)\npython scripts/train_baseline.py --model-type linear --tag linear_v1\ndvc add models/linear_v1_model.json models/linear_v1_train_eval_metrics.json\ndvc push\ngit add models/linear_v1_model.json.dvc models/linear_v1_train_eval_metrics.json.dvc\n\n# \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0444\u0435\u0440\u0435\u043d\u0441 \u043d\u0430 \u0441\u043a\u0430\u0447\u0430\u043d\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438\ndvc pull\npython scripts/test_model.py --model-path models/linear_v1_model.json --split-name test\ncat models/linear_v1_model_test_metrics.json\ndvc add models/linear_v1_model_test_metrics.json &amp;&amp; dvc push\n\n# Docker-\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438\ndocker build -t wine-quality-epml .\ndocker run --rm -it --name wine-quality-epml \\\n  -v ~/.config/gcloud:/root/.config/gcloud wine-quality-epml bash\nexport DVC_SITE_CACHE_DIR=\"$PWD/.dvc/site-cache\"\nCLOUDSDK_PYTHON=/usr/bin/python3 gcloud auth application-default login\ndvc pull data/raw/WineQT.csv.dvc data/splits/train.csv.dvc data/splits/eval.csv.dvc data/splits/test.csv.dvc \\\n        models/linear_v1_model.json.dvc models/linear_v1_train_eval_metrics.json.dvc\npython scripts/test_model.py --model-path models/linear_v1_model.json --split-name test\ncat models/linear_v1_model_test_metrics.json\ndocker stop wine-quality-epml\n</code></pre>"},{"location":"hw2_report_models_and_data_vcs/#_3","title":"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0435 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b","text":"<ul> <li>\u0414\u0430\u043d\u043d\u044b\u0435: <code>data/raw/WineQT.csv</code> + <code>data/splits/*.csv</code> (\u043f\u043e\u0434 DVC).</li> <li>\u041c\u043e\u0434\u0435\u043b\u044c \u0438 \u043c\u0435\u0442\u0440\u0438\u043a\u0438: <code>models/linear_v1_model.json</code>, <code>models/linear_v1_train_eval_metrics.json</code>, <code>models/linear_v1_model_test_metrics.json</code> (\u043f\u043e\u0434 DVC).</li> <li>\u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438: <code>uv.lock</code>, <code>Dockerfile</code>, <code>.dockerignore</code> (\u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435\u043c <code>.dvc</code>), pre-commit \u0434\u043b\u044f ruff+mypy.</li> </ul>"},{"location":"hw2_report_models_and_data_vcs/#_4","title":"\u0421\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u044b (\u0447\u0442\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c)","text":"<ul> <li> \u2014 \u0447\u0438\u0441\u0442\u0430\u044f \u0440\u0430\u0431\u043e\u0447\u0430\u044f \u043a\u043e\u043f\u0438\u044f \u0431\u0435\u0437 \u0434\u0430\u043d\u043d\u044b\u0445/\u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u0442\u043e\u043b\u044c\u043a\u043e <code>.dvc</code>-\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438.</li> <li> \u2014 \u043f\u043e\u0441\u043b\u0435 <code>dvc pull</code> \u043f\u043e\u044f\u0432\u0438\u043b\u0438\u0441\u044c <code>data/splits/*.csv</code>, <code>models/linear_v1_*</code>; \u0432\u0438\u0434\u043d\u043e \u043b\u043e\u0433\u0438 pull \u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 README \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438.</li> <li> \u2014 \u043f\u043e\u0434\u0442\u044f\u043d\u0443\u0442\u044b\u0435 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b + \u0437\u0430\u043f\u0443\u0441\u043a <code>python scripts/test_model.py ...</code> \u0438 \u0432\u044b\u0432\u043e\u0434 <code>linear_v1_model_test_metrics.json</code>.</li> <li> \u2014 \u0441\u0431\u043e\u0440\u043a\u0430 \u043e\u0431\u0440\u0430\u0437\u0430, \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f gcloud \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435, <code>dvc pull</code> \u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0433\u043e\u043d \u0432\u043d\u0443\u0442\u0440\u0438 Docker.</li> </ul>"},{"location":"hw3_report_exps_tracking/","title":"HW3 \u2014 \u043e\u0442\u0447\u0435\u0442 \u043f\u043e \u0442\u0440\u0435\u043a\u0438\u043d\u0433\u0443 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 (DVC Experiments)","text":"<p>\u0412 \u044d\u0442\u043e\u043c \u0414\u0417 \u044f \u0432\u044b\u0431\u0440\u0430\u043b DVC Experiments \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u043b \u0442\u0440\u0435\u043a\u0438\u043d\u0433 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u0440\u044f\u043c\u043e \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438. \u0412 \u0438\u0442\u043e\u0433\u0435 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442\u0441\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u044b\u043c\u0438 (\u0447\u0435\u0440\u0435\u0437 <code>params.yaml</code> + <code>dvc.yaml</code> + <code>dvc.lock</code>), \u0430 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u2014 \u0447\u0435\u0440\u0435\u0437 <code>dvc exp show</code> (\u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432/\u043c\u0435\u0442\u0440\u0438\u043a).</p>"},{"location":"hw3_report_exps_tracking/#dvc","title":"\u041f\u043e\u0447\u0435\u043c\u0443 DVC","text":"<ul> <li>\u041f\u0440\u043e\u0435\u043a\u0442 \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 DVC \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u044b\u0445/\u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0438 \u0445\u0440\u0430\u043d\u0438\u0442 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b \u0432 GCS (<code>gs://aith_epml</code>), \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0435 \u043f\u0440\u0438\u0448\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 (MLflow/W&amp;B).</li> <li>\u0423\u0434\u043e\u0431\u043d\u043e, \u0447\u0442\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b/\u043c\u0435\u0442\u0440\u0438\u043a\u0438/\u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b \u043b\u0435\u0436\u0430\u0442 \u0440\u044f\u0434\u043e\u043c \u0441 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u043e\u043c, \u0438 \u043b\u044e\u0431\u043e\u0439 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.</li> <li>\u041c\u0438\u043d\u0443\u0441: \u043d\u0435\u0442 \u201c\u0431\u043e\u0433\u0430\u0442\u043e\u0433\u043e\u201d \u0432\u0435\u0431-UI \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438, \u043d\u043e \u0434\u043b\u044f \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u0414\u0417 (\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b + \u043c\u0435\u0442\u0440\u0438\u043a\u0438 + \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b + \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435) CLI \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0445\u0432\u0430\u0442\u0430\u0435\u0442.</li> </ul>"},{"location":"hw3_report_exps_tracking/#_1","title":"\u0427\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043e","text":"<p>1) \u0412\u043a\u043b\u044e\u0447\u0438\u043b \u0440\u0435\u0436\u0438\u043c \u0441 Git-SCM \u0434\u043b\u044f \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432    - \u0412 <code>.dvc/config</code> \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u043b <code>core.no_scm = False</code> (\u0431\u0435\u0437 \u044d\u0442\u043e\u0433\u043e <code>dvc exp</code> \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442).    - \u0422\u0443\u0434\u0430 \u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b <code>core.site_cache_dir = .dvc/site-cache</code>, \u0447\u0442\u043e\u0431\u044b DVC \u043d\u0435 \u043f\u044b\u0442\u0430\u043b\u0441\u044f \u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u044d\u0448 \u0438 \u0432\u0441\u0451 \u0431\u044b\u043b\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0432\u043d\u0443\u0442\u0440\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <p>2) \u0421\u043e\u0431\u0440\u0430\u043b \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f/\u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u043e\u0434 DVC    - <code>dvc.yaml</code>:      - <code>train</code> \u2014 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 + \u043c\u0435\u0442\u0440\u0438\u043a\u0438 train/eval + \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b      - <code>test</code> \u2014 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043d\u0430 test    - <code>params.yaml</code> \u2014 \u0435\u0434\u0438\u043d\u0430\u044f \u0442\u043e\u0447\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:      - \u0432\u044b\u0431\u043e\u0440 <code>train.model_type</code> (ridge/lasso/elasticnet/svr/knn/rf/extra_trees/gbr/hgb \u0438 \u0442.\u0434.)      - \u0433\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b      - \u043f\u0443\u0442\u0438, \u043a\u0443\u0434\u0430 \u0441\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b \u0438 \u043c\u0435\u0442\u0440\u0438\u043a\u0438</p> <p>3) \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 \u043a\u043e\u0434\u043e\u043c    - <code>scripts/train_model.py</code> \u2014 \u043e\u0431\u0443\u0447\u0430\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 sklearn-\u0440\u0435\u0433\u0440\u0435\u0441\u0441\u043e\u0440, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442:      - \u043c\u043e\u0434\u0435\u043b\u044c: <code>models/exp_model.pkl</code>      - \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435: <code>models/exp_model_meta.json</code>      - \u043c\u0435\u0442\u0440\u0438\u043a\u0438 train+eval: <code>reports/train_eval_metrics.json</code>      - \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u044f (train+eval): <code>reports/predictions.csv</code>    - <code>scripts/test_trained_model.py</code> \u2014 \u0441\u0447\u0438\u0442\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442:      - <code>reports/test_metrics.json</code>      - <code>reports/test_predictions.csv</code>    - <code>src/wine_quality_epml/experiments/tracking.py</code> \u2014 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0443\u0442\u0438\u043b\u0438\u0442\u044b \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (<code>write_json</code>, <code>write_csv</code>) \u0438 \u0442\u0430\u0439\u043c\u0435\u0440.</p>"},{"location":"hw3_report_exps_tracking/#_2","title":"\u041a\u0430\u043a \u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u043b \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u044b","text":"<p>\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0433\u043e\u043d \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430:</p> <pre><code>dvc repro\n</code></pre> <p>\u0414\u0430\u043b\u044c\u0448\u0435 \u044f \u0441\u0434\u0435\u043b\u0430\u043b 15+ \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 <code>dvc exp run</code>, \u043c\u0435\u043d\u044f\u044f <code>train.model_type</code> \u0438 \u0433\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b. \u041f\u0440\u0438\u043c\u0435\u0440 \u043d\u0430\u0431\u043e\u0440\u0430 \u043a\u043e\u043c\u0430\u043d\u0434 (15 \u0448\u0442\u0443\u043a), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u0430\u0437\u043d\u044b\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u044b:</p> <pre><code># 1-3) Ridge\ndvc exp run -S train.model_type=ridge -S train.ridge.alpha=0.1\ndvc exp run -S train.model_type=ridge -S train.ridge.alpha=1.0\ndvc exp run -S train.model_type=ridge -S train.ridge.alpha=10.0\n\n# 4-5) Lasso\ndvc exp run -S train.model_type=lasso -S train.lasso.alpha=0.01\ndvc exp run -S train.model_type=lasso -S train.lasso.alpha=0.1\n\n# 6-8) ElasticNet\ndvc exp run -S train.model_type=elasticnet -S train.elasticnet.alpha=0.01 -S train.elasticnet.l1_ratio=0.2\ndvc exp run -S train.model_type=elasticnet -S train.elasticnet.alpha=0.01 -S train.elasticnet.l1_ratio=0.8\ndvc exp run -S train.model_type=elasticnet -S train.elasticnet.alpha=0.1  -S train.elasticnet.l1_ratio=0.5\n\n# 9-10) SVR\ndvc exp run -S train.model_type=svr -S train.svr.c=1.0  -S train.svr.epsilon=0.1  -S train.svr.gamma=scale -S train.svr.kernel=rbf\ndvc exp run -S train.model_type=svr -S train.svr.c=50.0 -S train.svr.epsilon=0.05 -S train.svr.gamma=auto  -S train.svr.kernel=rbf\n\n# 11-12) KNN\ndvc exp run -S train.model_type=knn -S train.knn.n_neighbors=3  -S train.knn.weights=uniform\ndvc exp run -S train.model_type=knn -S train.knn.n_neighbors=15 -S train.knn.weights=distance\n\n# 13) RandomForest (\u0434\u043b\u044f \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u043d\u0443\u0436\u043d\u0430 \u2014 \u044f\u0432\u043d\u043e \u0432\u044b\u043a\u043b\u044e\u0447\u0430\u044e)\ndvc exp run -S train.model_type=rf -S train.standardize=false -S train.rf.n_estimators=300 -S train.rf.max_depth=8\n\n# 14) ExtraTrees\ndvc exp run -S train.model_type=extra_trees -S train.standardize=false -S train.extra_trees.n_estimators=500 -S train.extra_trees.max_depth=12\n\n# 15) GradientBoostingRegressor\ndvc exp run -S train.model_type=gbr -S train.standardize=false -S train.gbr.n_estimators=500 -S train.gbr.learning_rate=0.05 -S train.gbr.max_depth=3\n</code></pre>"},{"location":"hw3_report_exps_tracking/#_3","title":"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438 \u201c\u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f\u201d","text":"<p>\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043c\u0438:</p> <pre><code>dvc exp show\n</code></pre> <p>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u043c\u0435\u0442\u0440\u0438\u043a\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043b\u0443\u0447\u0448\u0438\u0439 \u043f\u043e <code>eval.mae</code>):</p> <pre><code>dvc exp show --sort-by eval.mae --sort-order asc\n</code></pre> <p>\u0427\u0442\u043e\u0431\u044b \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0431\u044b\u043b\u0430 \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0435\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b:</p> <pre><code>dvc exp show --only-changed\n</code></pre>"},{"location":"hw3_report_exps_tracking/#gcs-git","title":"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 (GCS + Git)","text":"<p>\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u044b \u0441\u0430\u043c\u0438 \u043f\u043e \u0441\u0435\u0431\u0435 \u043d\u0435 \u201c\u0443\u043b\u0435\u0442\u0430\u044e\u0442\u201d \u0432 remote \u043f\u043e\u0441\u043b\u0435 <code>dvc exp run</code>. \u042f \u0441\u0434\u0435\u043b\u0430\u043b \u0442\u0430\u043a:</p> <pre><code>gcloud auth application-default login\ndvc exp push origin -A -r gcs-data\n</code></pre> <p>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0432\u044b\u0448\u0435 \u043f\u0443\u0448\u0438\u0442: - \u0441\u0441\u044b\u043b\u043a\u0438/\u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 Git remote (<code>origin</code>); - \u043a\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 outputs/metrics \u0432 DVC remote (<code>gcs-data</code>, \u0442.\u0435. <code>gs://aith_epml</code>).</p> <p>\u041f\u043e \u043b\u043e\u0433\u0430\u043c \u0432\u0438\u0434\u043d\u043e, \u0447\u0442\u043e \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u044b \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u0443\u0435\u0445\u0430\u043b\u0438 \u0432 <code>origin</code>, \u0430 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b \u0434\u043e\u0433\u0440\u0443\u0437\u0438\u043b\u0438\u0441\u044c \u0432 GCS (\u0441\u043c. \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u043d\u0438\u0436\u0435).</p>"},{"location":"hw3_report_exps_tracking/#_4","title":"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0435 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b","text":"<ul> <li>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432: <code>params.yaml</code>, <code>dvc.yaml</code>, <code>dvc.lock</code></li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 (\u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 <code>dvc exp show</code>): <code>reports/train_eval_metrics.json</code>, <code>reports/test_metrics.json</code></li> <li>\u0410\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b: <code>models/exp_model.pkl</code>, <code>models/exp_model_meta.json</code>, <code>reports/predictions.csv</code>, <code>reports/test_predictions.csv</code></li> </ul>"},{"location":"hw3_report_exps_tracking/#_5","title":"\u0421\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u044b","text":""},{"location":"hw4_report_pipeline_automatization/","title":"HW4 \u2014 \u043e\u0442\u0447\u0435\u0442 \u043f\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 ML \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u043e\u0432","text":"<p>\u0414\u0430\u0442\u0430: 22 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2025 \u0417\u0430\u0434\u0430\u043d\u0438\u0435: \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f ML \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u043e\u0432</p> <p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u043d\u0430 Luigi \u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 Pydantic.</p>"},{"location":"hw4_report_pipeline_automatization/#_1","title":"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b","text":"<p>\u041e\u0440\u043a\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f: Luigi 3.5.0+ \u2014 \u043b\u0435\u0433\u043a\u043e\u0432\u0435\u0441\u043d\u044b\u0439, \u0441 \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0438 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c.</p> <p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438: Pydantic 2.0.0+ \u2014 \u0442\u0438\u043f\u043e\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0441 Field constraints \u0438 custom validators.</p>"},{"location":"hw4_report_pipeline_automatization/#_2","title":"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","text":""},{"location":"hw4_report_pipeline_automatization/#1-luigi-orchestration-4","title":"\u042d\u0442\u0430\u043f 1: Luigi Orchestration (4 \u0431\u0430\u043b\u043b\u0430)","text":"<p>\u0421\u043e\u0437\u0434\u0430\u043d\u044b 3 Luigi tasks \u0441 \u0446\u0435\u043f\u043e\u0447\u043a\u043e\u0439 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439: <code>SplitDataTask</code> \u2192 <code>TrainModelTask</code> \u2192 <code>TestModelTask</code>.</p> <p>\u0424\u0430\u0439\u043b\u044b: - <code>src/wine_quality_epml/pipeline/split_data_task.py</code> \u2014 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 train/eval/test - <code>src/wine_quality_epml/pipeline/train_model_task.py</code> \u2014 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 10 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432) - <code>src/wine_quality_epml/pipeline/test_model_task.py</code> \u2014 \u043e\u0446\u0435\u043d\u043a\u0430 \u043d\u0430 test split - <code>src/wine_quality_epml/pipeline/runner.py</code> \u2014 CLI entry point - <code>luigi.cfg</code> \u2014 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430</p> <p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b: \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 <code>LocalTarget</code>, \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441 <code>--workers</code>, \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 <code>requires()</code>.</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a:</p> <pre><code>uv run python -m wine_quality_epml.pipeline.runner --local-scheduler\n</code></pre>"},{"location":"hw4_report_pipeline_automatization/#2-pydantic-configuration-3","title":"\u042d\u0442\u0430\u043f 2: Pydantic Configuration (3 \u0431\u0430\u043b\u043b\u0430)","text":"<p>\u0421\u043e\u0437\u0434\u0430\u043d\u043e 11 Pydantic \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439:</p> <p>\u0424\u0430\u0439\u043b\u044b: - <code>src/wine_quality_epml/config/schemas.py</code> \u2014 Pydantic \u0441\u0445\u0435\u043c\u044b (SplitConfig, PathsConfig, 10 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 ML, TrainConfig, ProjectConfig) - <code>src/wine_quality_epml/config/loader.py</code> \u2014 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a YAML \u0441 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0435\u0439 \u0438 env overrides</p> <p>\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u0445\u0435\u043c\u044b: - <code>SplitConfig</code> \u2014 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0447\u0442\u043e <code>test_size + eval_size &lt; 1.0</code> - 10 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 ML (linear, ridge, lasso, elasticnet, svr, knn, rf, extra_trees, gbr, hgb) \u2014 \u043a\u0430\u0436\u0434\u0430\u044f \u0441 Field constraints (n_estimators &gt;= 1, learning_rate &gt; 0, etc.) - <code>TrainConfig</code> \u2014 \u043c\u0435\u0442\u043e\u0434 <code>get_model_config()</code> \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 config</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432: - <code>configs/ridge_baseline.yaml</code> - <code>configs/gbr_tuned.yaml</code> - <code>configs/rf_experiment.yaml</code></p> <p>\u0417\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 YAML-\u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044e (<code>base: path/to/base.yaml</code>) \u0438 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 env vars (<code>WINE_QUALITY_TRAIN__MODEL_TYPE=lasso</code>).</p>"},{"location":"hw4_report_pipeline_automatization/#3-luigi-pydantic-2","title":"\u042d\u0442\u0430\u043f 3: \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f Luigi + Pydantic (2 \u0431\u0430\u043b\u043b\u0430) \u2705","text":""},{"location":"hw4_report_pipeline_automatization/#luigi-tasks","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 Luigi Tasks","text":"<p>\u0412\u0441\u0435 3 tasks \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u044b \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f Pydantic:</p> <p>1. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043c\u0435\u0442\u043e\u0434 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>from wine_quality_epml.config.loader import load_config\nfrom wine_quality_epml.config.schemas import ProjectConfig\n\nclass SplitDataTask(luigi.Task):\n    params_path = luigi.Parameter(default=\"params.yaml\")\n\n    def _load_config(self) -&gt; ProjectConfig:\n        \"\"\"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0438 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0447\u0435\u0440\u0435\u0437 Pydantic\"\"\"\n        return load_config(Path(str(self.params_path)))\n</code></pre> <p>2. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e config:</p> <pre><code>def run(self):\n    config = self._load_config()  # Pydantic validation \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0437\u0434\u0435\u0441\u044c\n\n    # \u0422\u0438\u043f\u043e\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\n    logger.info(f\"Data splitting: test={config.split.test_size}, \"\n                f\"eval={config.split.eval_size}, seed={config.split.seed}\")\n\n    X_train, X_test = train_test_split(\n        X, y,\n        test_size=config.split.test_size,  # \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e float \u0432 (0, 1)\n        random_state=config.split.seed      # \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e int &gt;= 0\n    )\n</code></pre> <p>3. \u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439:</p> <pre><code>def _build_estimator(self, config: ProjectConfig):\n    \"\"\"\u0421\u0442\u0440\u043e\u0438\u0442 estimator \u0438\u0437 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e Pydantic config\"\"\"\n    model_config = config.train.get_model_config()  # \u0422\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 union\n    model_params = model_config.model_dump()        # Pydantic \u2192 dict\n\n    logger.info(f\"Building {config.train.model_type} with params: {model_params}\")\n\n    model_map = {\n        \"linear\": LinearRegression,\n        \"ridge\": Ridge,\n        \"lasso\": Lasso,\n        \"gbr\": GradientBoostingRegressor,\n        # ... 10 \u043c\u043e\u0434\u0435\u043b\u0435\u0439\n    }\n\n    model_class = model_map[config.train.model_type]\n    return model_class(**model_params)\n</code></pre>"},{"location":"hw4_report_pipeline_automatization/#_3","title":"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u043e\u0435 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043b\u043e\u0433\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445:</p> <pre><code>INFO: Data splitting: test=0.15, eval=0.15, seed=42\nINFO: Splits created: train=779 rows, eval=172 rows, test=172 rows\nINFO: Building gbr with params: {'n_estimators': 3000, 'learning_rate': 0.05, ...}\nINFO: Training gbr...\nINFO: Training completed in 2.34s\nINFO: Train metrics - R\u00b2: 0.8932, RMSE: 0.5123\nINFO: Eval metrics - R\u00b2: 0.2156, RMSE: 0.6981\nINFO: Testing model on: data/splits/test.csv\nINFO: \ud83d\udcca Pipeline Summary:\n  Model: gbr\n  Test R\u00b2: 0.1181\n  Test RMSE: 0.7355\n</code></pre>"},{"location":"hw4_report_pipeline_automatization/#_4","title":"\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438","text":"<p>1. \u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0447\u0435\u0440\u0435\u0437 YAML:</p> <pre><code># Ridge\nuv run python -m wine_quality_epml.pipeline.runner \\\n    --params configs/ridge_baseline.yaml --local-scheduler\n\n# Random Forest\nuv run python -m wine_quality_epml.pipeline.runner \\\n    --params configs/rf_experiment.yaml --local-scheduler\n</code></pre> <p>2. \u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 env vars (\u0434\u043b\u044f CI/CD):</p> <pre><code>WINE_QUALITY_TRAIN__MODEL_TYPE=lasso \\\nWINE_QUALITY_TRAIN__LASSO__ALPHA=0.1 \\\nuv run python -m wine_quality_epml.pipeline.runner --local-scheduler\n</code></pre> <p>3. Fail-fast \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f:</p> <pre><code># \u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0414\u041e \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430\nconfig = load_config('invalid.yaml')\n# ValidationError: test_size + eval_size must be &lt; 1.0\n### \u042d\u0442\u0430\u043f 3: \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f Luigi + Pydantic (2 \u0431\u0430\u043b\u043b\u0430)\n\n\u0412\u0441\u0435 Luigi tasks \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u044b \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f Pydantic:\n\n### \u042d\u0442\u0430\u043f 4: \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f (1 \u0431\u0430\u043b\u043b)\n\n\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f:\n- `docs/hw4_stage1_luigi_implementation.md`\n- `docs/hw4_stage2_pydantic_implementation.md`\n- `docs/hw4_stage3_integration.md`\n- `docs/pydantic_guide.md`\n- `docs/luigi_pipeline_usage.mdint(f'\u2705 Config loaded: {config.train.model_type}')\nprint(f'Model params: {config.train.get_model_config().model_dump()}')\n\"\n\n# Output:\n# \u2705 Config loaded: gbr\n# Model params: {'n_estimators': 3000, 'learning_rate': 0.05, ...}\n</code></pre>"},{"location":"hw4_report_pipeline_automatization/#3","title":"\u0422\u0435\u0441\u0442 3: \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code># \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433 (test_size + eval_size &gt; 1.0)\nuv run python -c \"\nfrom wine_quality_epml.config.loader import load_config\nfrom pydantic import ValidationError\nimport yaml, tempfile\n\ninvalid = {\n    'split': {'test_size': 0.7, 'eval_size': 0.5},\n    'train': {'model_type': 'gbr', 'gbr': {'n_estimators': -100}}\n}\n\nwith tempfile.NamedTemporaryFile(mode='w', suffix='.yaml') as f:\n    yaml.dump(invalid, f)\n    f.flush()\n    try:\n        config = load_config(f.name)\n    except ValidationError as e:\n        print('\u2705 Pydantic validation caught errors:')\n        for err in e.errors():\n            print(f\\\"  - {err['loc']}: {err['msg']}\\\")\n\"\n\n# Output:\n# \u2705 Pydantic validation caught errors:\n#   - ('split',): test_size + eval_size must be &lt; 1.0, got 1.2\n#   - ('train', 'gbr', 'n_estimators'): Input should be &gt;= 1\n</code></pre>"},{"location":"hw4_report_pipeline_automatization/#_5","title":"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0435 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b","text":""},{"location":"hw4_report_pipeline_automatization/#_6","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<pre><code>src/wine_quality_epml/\n## \u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f\n\n```bash\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\nuv venv .venv &amp;&amp; source .venv/bin/activate\nuv sync --dev\nuv run pre-commit install\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430\nuv run python -m wine_quality_epml.pipeline.runner --local-scheduler\n\n# \u0421 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u043c \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u043c\nuv run python -m wine_quality_epml.pipeline.runner --params configs/ridge_baseline.yaml --local-scheduler\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430\nuv run ruff format src/ &amp;&amp; uv run ruff check src/ --fix &amp;&amp; uv run mypy src/## \u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0435 \u0444\u0430\u0439\u043b\u044b\n\n</code></pre> <p>src/wine_quality_epml/ \u251c\u2500\u2500 pipeline/              # Luigi tasks \u2502   \u251c\u2500\u2500 split_data_task.py \u2502   \u251c\u2500\u2500 train_model_task.py \u2502   \u251c\u2500\u2500 test_model_task.py \u2502   \u2514\u2500\u2500 runner.py \u2514\u2500\u2500 config/                # Pydantic     \u251c\u2500\u2500 schemas.py         # 11 \u043c\u043e\u0434\u0435\u043b\u0435\u0439     \u2514\u2500\u2500 loader.py</p> <p>configs/                   # \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432 \u251c\u2500\u2500 ridge_baseline.yaml \u251c\u2500\u2500 gbr_tuned.yaml \u2514\u2500\u2500 rf_experiment.yaml</p> <p>luigi.cfg                  # Luigi scheduler params.yaml                # \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 config ```</p> <p>\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438: <code>luigi&gt;=3.5.0</code>, <code>pydantic&gt;=2.0.0</code>, <code>ruamel.yaml&gt;=0.18.0</code>, <code>scikit-learn</code>, <code>pandas</code>, <code>joblib</code>.## \u0421\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u044b</p> <p>\u042d\u0442\u0430\u043f 1: Luigi Orchestration </p> <p>\u042d\u0442\u0430\u043f 2: Pydantic Configuration </p> <p>\u042d\u0442\u0430\u043f 3: Integration &amp; Testing </p>"},{"location":"hw4_report_pipeline_automatization/#_7","title":"\u0418\u0442\u043e\u0433\u043e","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0432\u0441\u0435 4 \u044d\u0442\u0430\u043f\u0430: - Luigi orchestration \u2014 3 tasks \u0441 \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438 - Pydantic configuration \u2014 11 \u0441\u0445\u0435\u043c \u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439 - \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u2014 \u0442\u0438\u043f\u043e\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432 \u0432 Luigi tasks - \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u2014 5 \u0444\u0430\u0439\u043b\u043e\u0432 \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438</p> <p>\u041f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d, \u043b\u0435\u0433\u043a\u043e \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442\u0441\u044f \u043d\u043e\u0432\u044b\u043c\u0438 \u043c\u043e\u0434\u0435\u043b\u044f\u043c\u0438 \u0438 \u044d\u0442\u0430\u043f\u0430\u043c\u0438</p>"},{"location":"luigi_pipeline_usage/","title":"Luigi Pipeline \u0434\u043b\u044f Wine Quality EPML","text":"<p>\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 ML \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 Luigi \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 wine_quality_epml.</p>"},{"location":"luigi_pipeline_usage/#_1","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code>uv sync\n</code></pre>"},{"location":"luigi_pipeline_usage/#_2","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430","text":"<p>\u041f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0442\u0440\u0435\u0445 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447:</p> <ol> <li>SplitDataTask - \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 train/eval/test</li> <li>TrainModelTask - \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 (\u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 SplitDataTask)</li> <li>TestModelTask - \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 (\u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 TrainModelTask)</li> </ol>"},{"location":"luigi_pipeline_usage/#_3","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":""},{"location":"luigi_pipeline_usage/#_4","title":"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a (\u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d)","text":"<pre><code># \u0427\u0435\u0440\u0435\u0437 runner.py\nuv run python -m wine_quality_epml.pipeline.runner --local-scheduler\n\n# \u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 Luigi CLI\nluigi --module wine_quality_epml.pipeline.test_model_task TestModelTask --local-scheduler\n</code></pre>"},{"location":"luigi_pipeline_usage/#_5","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438","text":"<pre><code># \u0421 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u043f\u0443\u0442\u0438 \u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\nuv run python -m wine_quality_epml.pipeline.runner --params params.yaml --local-scheduler\n\n# \u0421 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c (\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e workers)\nuv run python -m wine_quality_epml.pipeline.runner --workers 4 --local-scheduler\n</code></pre>"},{"location":"luigi_pipeline_usage/#_6","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438","text":"<pre><code># \u0422\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445\nluigi --module wine_quality_epml.pipeline.split_data_task SplitDataTask --local-scheduler\n\n# \u0422\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 (\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442 split, \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e)\nluigi --module wine_quality_epml.pipeline.train_model_task TrainModelTask --local-scheduler\n</code></pre>"},{"location":"luigi_pipeline_usage/#_7","title":"\u041a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>Luigi \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u044d\u0448\u0438\u0440\u0443\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447. \u0415\u0441\u043b\u0438 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442, \u0437\u0430\u0434\u0430\u0447\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u0430. \u0414\u043b\u044f \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:</p> <pre><code># \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435\nrm -f models/exp_model.pkl models/exp_model_meta.json\n\n# \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\nrm -f reports/test_metrics.json reports/test_predictions.json\n\n# \u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\nrm -f models/exp_model.pkl reports/test_metrics.json\n</code></pre>"},{"location":"luigi_pipeline_usage/#_8","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432 <code>params.yaml</code>:</p> <ul> <li><code>split.*</code> - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445</li> <li><code>train.model_type</code> - \u0432\u044b\u0431\u043e\u0440 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 (ridge, lasso, gbr, rf, \u0438 \u0442.\u0434.)</li> <li><code>train.&lt;model_type&gt;</code> - \u0433\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438</li> <li><code>train.paths.*</code> - \u043f\u0443\u0442\u0438 \u043a \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u043c \u0444\u0430\u0439\u043b\u0430\u043c</li> </ul>"},{"location":"luigi_pipeline_usage/#luigi","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Luigi","text":"<p>\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Luigi \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 <code>luigi.cfg</code>:</p> <ul> <li>\u041f\u043e\u0440\u0442\u044b \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430</li> <li>\u0422\u0430\u0439\u043c\u0430\u0443\u0442\u044b \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b</li> <li>\u041a\u043e\u0434\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432</li> </ul>"},{"location":"luigi_pipeline_usage/#_9","title":"\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)","text":"<p>\u0414\u043b\u044f \u0432\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c Luigi Central Scheduler:</p> <pre><code>luigid --port 8082\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0431\u0435\u0437 <code>--local-scheduler</code> \u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044c http://localhost:8082 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435.</p>"},{"location":"models_and_data_vcs/","title":"DVC: \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043c\u043e\u0434\u0435\u043b\u0438 (GCS)","text":"<p>\u041a\u0440\u0430\u0442\u043a\u0438\u0439 \u0433\u0430\u0439\u0434 \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432: \u043a\u0430\u043a \u043f\u043e\u0434\u0442\u044f\u043d\u0443\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435/\u043c\u043e\u0434\u0435\u043b\u0438 \u0438 \u043a\u0430\u043a \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0438\u0445 \u0447\u0435\u0440\u0435\u0437 DVC. \u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u043d\u0438\u0435 Git.</p>"},{"location":"models_and_data_vcs/#_1","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f","text":"<p>1) DVC: <code>brew install dvc</code> 2) Google Cloud SDK: <code>brew install --cask google-cloud-sdk</code> \u0438 <code>source /usr/local/share/google-cloud-sdk/path.bash.inc</code> 3) \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f (ADC):    <code>bash    CLOUDSDK_PYTHON=/usr/bin/python3 gcloud auth application-default login</code>    \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0430: \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 JSON (\u0441\u043c. \u043a\u0440\u0435\u0434\u044b \u043d\u0438\u0436\u0435). 4) \u0418\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 macOS \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u0435\u0448 \u0434\u043b\u044f DVC:    <code>bash    export DVC_SITE_CACHE_DIR=\"$PWD/.dvc/site-cache\"</code> 5) \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u044b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 (\u0434\u043b\u044f sklearn): <code>uv sync</code> \u0438\u043b\u0438 <code>pip install -r requirements.txt</code> \u0435\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 pip-\u0444\u043b\u043e\u0443.</p>"},{"location":"models_and_data_vcs/#_2","title":"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043c\u043e\u0434\u0435\u043b\u0438","text":"<pre><code>export DVC_SITE_CACHE_DIR=\"$PWD/.dvc/site-cache\"\ndvc pull   # \u043f\u043e\u0434\u0442\u044f\u043d\u0435\u0442 data/raw/WineQT.csv \u0438 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0438\u0437 gs://aith_epml\n</code></pre>"},{"location":"models_and_data_vcs/#raw-splits","title":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 (raw \u2192 splits)","text":"<p>1) \u041f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 raw-\u0444\u0430\u0439\u043b \u0432 <code>data/raw/</code> (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c <code>WineQT.csv</code>). 2) \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 DVC \u0438 \u0437\u0430\u043f\u0443\u0448\u0438\u0442\u044c:    <code>bash    dvc add data/raw/WineQT.csv    dvc push              # \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 gs://aith_epml</code> 3) \u0412 Git \u043a\u043e\u043c\u043c\u0438\u0442\u0438\u043c \u0442\u043e\u043b\u044c\u043a\u043e <code>.dvc</code> \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0438, \u043d\u0435 \u0441\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0435.</p>"},{"location":"models_and_data_vcs/#trainevaltest","title":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c train/eval/test \u0441\u043f\u043b\u0438\u0442\u044b","text":"<pre><code>export DVC_SITE_CACHE_DIR=\"$PWD/.dvc/site-cache\"\npython scripts/split_data.py --test-size 0.15 --eval-size 0.15 --seed 42\ndvc add data/splits/train.csv data/splits/eval.csv data/splits/test.csv\n   dvc push\n   git add data/splits/*.dvc\n   git commit -m \"Add data splits\"\n   ```\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0441\u043f\u043b\u0438\u0442\u044b \u043a\u043b\u0430\u0434\u0443\u0442\u0441\u044f \u0432 `data/splits/` (train/eval/test), seed=42.\n\n## \u041e\u0431\u0443\u0447\u0438\u0442\u044c \u0438 \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c (baseline)\n- \u0421\u043a\u0440\u0438\u043f\u0442: `python scripts/train_baseline.py --model-type {constant|linear} [--strategy mean|median] [--tag name]`\n- \u0410\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b:\n  - \u043c\u043e\u0434\u0435\u043b\u044c (\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b/\u0432\u0435\u0441\u0430): `models/&lt;tag&gt;_model.json`\n  - \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438: `models/&lt;tag&gt;_metrics.json`\n  \u0433\u0434\u0435 `&lt;tag&gt;` = model-type \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 `--tag`.\n - \u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e: `data/splits/train.csv`, \u0432 \u043c\u0435\u0442\u0440\u0438\u043a\u0430\u0445 \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442\u0441\u044f `split` \u0438 `data_path`.\n\n\u041f\u0440\u0438\u043c\u0435\u0440 (\u0434\u0432\u0435 \u0432\u0435\u0440\u0441\u0438\u0438):\n```bash\nexport DVC_SITE_CACHE_DIR=\"$PWD/.dvc/site-cache\"\npython scripts/train_baseline.py --model-type constant --strategy mean --tag const_mean_v1\npython scripts/train_baseline.py --model-type linear --tag linear_v1\n# \u0417\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 DVC:\ndvc add models/const_mean_v1_model.json models/const_mean_v1_metrics.json\n  dvc add models/linear_v1_model.json models/linear_v1_metrics.json\n  dvc push   # \u0432 gs://aith_epml\n  git add models/*.dvc .dvc/config .dvcignore\n  git commit -m \"Add baseline models (mean/median)\"\n</code></pre> <p>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0442\u044c \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u0432\u0438\u0437\u0438\u044f\u043c\u0438 Git \u0447\u0435\u0440\u0435\u0437 <code>dvc metrics diff --targets models/&lt;tag&gt;_metrics.json &lt;rev&gt;</code>.</p>"},{"location":"models_and_data_vcs/#_3","title":"\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438","text":"<ul> <li>\u0421\u043a\u0440\u0438\u043f\u0442: <code>python scripts/evaluate_model.py --model-path models/&lt;tag&gt;_model.json [--metrics-path out.json]</code></li> <li>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0431\u0435\u0440\u0451\u0442 \u0434\u0430\u0442\u0430\u0441\u0435\u0442 <code>data/raw/WineQT.csv</code> (\u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c <code>--data-path data/splits/test.csv</code>) \u0438 \u043f\u0438\u0448\u0435\u0442 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0432 <code>models/&lt;tag&gt;_model_eval_metrics.json</code>, \u0432\u043a\u043b\u044e\u0447\u0430\u044f <code>split</code>/<code>data_path</code>.</li> <li>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 DVC:   <code>bash   python scripts/evaluate_model.py --model-path models/linear_v1_model.json   dvc add models/linear_v1_model_eval_metrics.json   dvc push   git add models/*.dvc   git commit -m \"Eval linear_v1\"</code></li> </ul>"},{"location":"models_and_data_vcs/#_4","title":"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0439","text":"<ul> <li>\u041c\u0435\u043d\u044f\u0439\u0442\u0435 <code>params.json</code> (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, strategy -&gt; median), \u0434\u0435\u043b\u0430\u0439\u0442\u0435 <code>dvc repro</code> \u0438 \u043a\u043e\u043c\u043c\u0438\u0442, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u0443\u044e \u0446\u0435\u043f\u043e\u0447\u043a\u0443 (\u0434\u0430\u043d\u043d\u044b\u0435 \u2192 \u0441\u043f\u043b\u0438\u0442\u044b \u2192 \u043c\u043e\u0434\u0435\u043b\u044c \u2192 \u043c\u0435\u0442\u0440\u0438\u043a\u0438) \u0432 \u043e\u0434\u043d\u043e\u0439 \u0440\u0435\u0432\u0438\u0437\u0438\u0438.</li> <li>\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u0432\u0438\u0437\u0438\u044f\u043c\u0438:   <code>bash   dvc metrics diff --targets models/metrics.json HEAD~1</code>   \u0438\u043b\u0438 \u043f\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c \u0442\u0435\u0433\u0430\u043c/\u0432\u0435\u0442\u043a\u0430\u043c Git.</li> </ul>"},{"location":"models_and_data_vcs/#_5","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b","text":"<ul> <li>\u0414\u0430\u043d\u043d\u044b\u0435 \u0438 \u043c\u043e\u0434\u0435\u043b\u0438 \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u0443\u0435\u043c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e \u0447\u0435\u0440\u0435\u0437 DVC (<code>dvc add/push</code>), \u0445\u0440\u0430\u043d\u0438\u043c \u0442\u043e\u043b\u044c\u043a\u043e <code>.dvc</code> \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0438 \u0432 Git.</li> <li>\u0421\u043f\u043b\u0438\u0442\u044b \u0438 \u043c\u043e\u0434\u0435\u043b\u0438 \u0437\u0430\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u043c \u043d\u0430 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 seeds/\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b (<code>params.json</code>), \u0447\u0442\u043e\u0431\u044b <code>dvc repro</code> \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043b \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d end-to-end.</li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u0438 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043b\u0435\u0436\u0430\u0442 \u0432 <code>models/</code> \u0438 \u0442\u0430\u043a \u0436\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u044f\u0442 \u0447\u0435\u0440\u0435\u0437 DVC; \u0434\u0438\u0444\u0444 \u043c\u0435\u0442\u0440\u0438\u043a \u0434\u0435\u043b\u0430\u0435\u043c <code>dvc metrics diff</code>.</li> </ul>"},{"location":"models_and_data_vcs/#remotes","title":"Remotes \u0438 \u043a\u0440\u0435\u0434\u044b","text":"<ul> <li>Default remote: <code>gcs-data</code> \u2192 <code>gs://aith_epml</code> (\u0441\u043c. <code>.dvc/config</code>); \u0440\u0435\u0437\u0435\u0440\u0432 <code>local-data</code> \u2192 <code>.dvc/storage</code>.</li> <li>\u041a\u0440\u0435\u0434\u044b \u043d\u0435 \u043a\u043e\u043c\u043c\u0438\u0442\u0438\u043c:</li> <li>ADC (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f): <code>gcloud auth application-default login</code>.</li> <li>JSON \u043a\u043b\u044e\u0447: \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>~/.config/gcloud/aith-epml.json</code>), \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c:     <code>bash     dvc remote modify gcs-data credentialpath ~/.config/gcloud/aith-epml.json --local</code> <code>.dvc/config.local</code> \u0443\u0436\u0435 \u0432 gitignore.</li> </ul>"},{"location":"pydantic_guide/","title":"Pydantic: \u041f\u0430\u043c\u044f\u0442\u043a\u0430 \u043f\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e","text":""},{"location":"pydantic_guide/#pydantic_1","title":"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Pydantic?","text":"<p>Pydantic - \u044d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0434\u043b\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u0432 Python, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0430\u044f \u0430\u043d\u043d\u043e\u0442\u0430\u0446\u0438\u0438 \u0442\u0438\u043f\u043e\u0432.</p> <p>\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u0434\u0435\u044f: \u0432\u044b \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0447\u0435\u0440\u0435\u0437 Python \u043a\u043b\u0430\u0441\u0441\u044b \u0441 \u0442\u0438\u043f\u0430\u043c\u0438, \u0430 Pydantic \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438: - \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0442\u0438\u043f\u044b \u0434\u0430\u043d\u043d\u044b\u0445 - \u041f\u0440\u0438\u0432\u043e\u0434\u0438\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u043a \u043d\u0443\u0436\u043d\u044b\u043c \u0442\u0438\u043f\u0430\u043c (\u0435\u0441\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e) - \u0412\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c - \u0412\u044b\u0434\u0430\u0435\u0442 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u0445</p>"},{"location":"pydantic_guide/#pydantic_2","title":"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 Pydantic","text":""},{"location":"pydantic_guide/#1","title":"1. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0442\u0438\u043f\u043e\u0432","text":"<pre><code>from pydantic import BaseModel\n\nclass User(BaseModel):\n    id: int\n    name: str\n    age: int\n\n# \u2713 \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442\nuser = User(id=1, name=\"Alice\", age=30)\n\n# \u2713 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432\nuser = User(id=\"1\", name=\"Alice\", age=\"30\")  # \u0421\u0442\u0440\u043e\u043a\u0438 \u2192 \u0447\u0438\u0441\u043b\u0430\n\n# \u2717 \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438\nuser = User(id=\"abc\", name=\"Alice\", age=30)\n# ValidationError: id \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c int\n</code></pre>"},{"location":"pydantic_guide/#2-field","title":"2. \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c\u0438 (Field)","text":"<pre><code>from pydantic import BaseModel, Field\n\nclass Config(BaseModel):\n    alpha: float = Field(gt=0.0, le=100.0, description=\"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c 0 &lt; alpha \u2264 100\")\n    n_estimators: int = Field(ge=1, description=\"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 1\")\n    name: str = Field(min_length=1, max_length=50)\n\n# \u2713 \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442\nconfig = Config(alpha=10.5, n_estimators=100, name=\"model\")\n\n# \u2717 \u041e\u0448\u0438\u0431\u043a\u0430: alpha \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c &gt; 0\nconfig = Config(alpha=-5, n_estimators=100, name=\"model\")\n\n# \u2717 \u041e\u0448\u0438\u0431\u043a\u0430: n_estimators \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c &gt;= 1\nconfig = Config(alpha=10, n_estimators=0, name=\"model\")\n</code></pre> <p>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f: - <code>gt</code> (greater than) - \u0441\u0442\u0440\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435 - <code>ge</code> (greater or equal) - \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e - <code>lt</code> (less than) - \u0441\u0442\u0440\u043e\u0433\u043e \u043c\u0435\u043d\u044c\u0448\u0435 - <code>le</code> (less or equal) - \u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e - <code>min_length</code>, <code>max_length</code> - \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u043a \u0438 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 - <code>regex</code> - \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u043a</p>"},{"location":"pydantic_guide/#3","title":"3. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e","text":"<pre><code>class TrainConfig(BaseModel):\n    seed: int = 42\n    learning_rate: float = 0.01\n    model_type: str = \"linear\"\n\n# \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u0435\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\nconfig = TrainConfig()  # \u0412\u0441\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\n\n# \u0418\u043b\u0438 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u044b\u0435\nconfig = TrainConfig(learning_rate=0.1)\n</code></pre>"},{"location":"pydantic_guide/#4","title":"4. \u041b\u0438\u0442\u0435\u0440\u0430\u043b\u044b (\u0441\u0442\u0440\u043e\u0433\u0438\u0439 \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439)","text":"<pre><code>from typing import Literal\n\nclass ModelConfig(BaseModel):\n    model_type: Literal[\"linear\", \"ridge\", \"lasso\", \"rf\"]\n    kernel: Literal[\"rbf\", \"linear\", \"poly\"] = \"rbf\"\n\n# \u2713 \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442\nconfig = ModelConfig(model_type=\"ridge\")\n\n# \u2717 \u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\nconfig = ModelConfig(model_type=\"invalid\")\n# ValidationError: model_type \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c 'linear', 'ridge', 'lasso' \u0438\u043b\u0438 'rf'\n</code></pre>"},{"location":"pydantic_guide/#5","title":"5. \u0412\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u0434\u0435\u043b\u0438","text":"<pre><code>class Address(BaseModel):\n    street: str\n    city: str\n\nclass User(BaseModel):\n    name: str\n    address: Address\n\n# \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438\nuser = User(\n    name=\"Alice\",\n    address={\"street\": \"Main St\", \"city\": \"NYC\"}  # Dict \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u2192 Address\n)\n\n# \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044f\u043c\nprint(user.address.city)  # NYC\n</code></pre>"},{"location":"pydantic_guide/#6","title":"6. \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u044b","text":"<pre><code>from pydantic import BaseModel, field_validator, model_validator\n\nclass SplitConfig(BaseModel):\n    test_size: float = Field(gt=0, lt=1)\n    eval_size: float = Field(gt=0, lt=1)\n\n    @model_validator(mode='after')\n    def check_total_size(self) -&gt; 'SplitConfig':\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e test + eval &lt; 1\"\"\"\n        if self.test_size + self.eval_size &gt;= 1.0:\n            raise ValueError(f\"test + eval \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c &lt; 1.0\")\n        return self\n\n# \u2713 \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442\nconfig = SplitConfig(test_size=0.2, eval_size=0.2)\n\n# \u2717 \u041e\u0448\u0438\u0431\u043a\u0430: 0.5 + 0.6 &gt;= 1.0\nconfig = SplitConfig(test_size=0.5, eval_size=0.6)\n</code></pre>"},{"location":"pydantic_guide/#7-dictjsonyaml","title":"7. \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437 dict/JSON/YAML","text":"<pre><code># \u0418\u0437 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\ndata = {\"alpha\": 10.0, \"n_estimators\": 100}\nconfig = Config.model_validate(data)\n\n# \u0418\u0437 JSON \u0441\u0442\u0440\u043e\u043a\u0438\njson_str = '{\"alpha\": 10.0, \"n_estimators\": 100}'\nconfig = Config.model_validate_json(json_str)\n\n# \u0418\u0437 YAML (\u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ruamel.yaml \u0438\u043b\u0438 pyyaml)\nimport yaml\nyaml_data = yaml.safe_load(yaml_file.read_text())\nconfig = Config.model_validate(yaml_data)\n</code></pre>"},{"location":"pydantic_guide/#8-dictjson","title":"8. \u0421\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0432 dict/JSON","text":"<pre><code>config = Config(alpha=10.0, n_estimators=100)\n\n# \u0412 \u0441\u043b\u043e\u0432\u0430\u0440\u044c\nconfig_dict = config.model_dump()  # {'alpha': 10.0, 'n_estimators': 100}\n\n# \u0412 JSON \u0441\u0442\u0440\u043e\u043a\u0443\nconfig_json = config.model_dump_json()\n\n# \u0421 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043f\u043e\u043b\u0435\u0439\nconfig_dict = config.model_dump(exclude={'n_estimators'})\n</code></pre>"},{"location":"pydantic_guide/#9-config","title":"9. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (Config)","text":"<pre><code>class MyModel(BaseModel):\n    model_config = {\n        'extra': 'forbid',  # \u0417\u0430\u043f\u0440\u0435\u0442\u0438\u0442\u044c \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0435 \u043f\u043e\u043b\u044f\n        'frozen': True,     # \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u043c\u043c\u0443\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u044b\u043c\n        'validate_assignment': True,  # \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438\n    }\n\n    value: int\n\n# \u2717 \u041e\u0448\u0438\u0431\u043a\u0430: \u043b\u0438\u0448\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b\nmodel = MyModel(value=10, unknown=20)\n\n# \u2717 \u041e\u0448\u0438\u0431\u043a\u0430: frozen = True\nmodel = MyModel(value=10)\nmodel.value = 20  # \u041d\u0435\u043b\u044c\u0437\u044f \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\n</code></pre>"},{"location":"pydantic_guide/#wine-quality-epml","title":"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 Wine Quality EPML","text":""},{"location":"pydantic_guide/#pydantic_3","title":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0434\u043e Pydantic","text":"<p>\u0411\u0435\u0437 Pydantic:</p> <pre><code># \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0438\u0437 YAML\nconfig = yaml.load('params.yaml')\n\n# \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b:\n# 1. \u041d\u0435\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 - \u043e\u0448\u0438\u0431\u043a\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f\n# 2. \u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0432 IDE\n# 3. \u041e\u043f\u0435\u0447\u0430\u0442\u043a\u0438 \u0432 \u043a\u043b\u044e\u0447\u0430\u0445 \u2192 KeyError \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435\n# 4. \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u2192 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0438 \u043c\u043e\u0434\u0435\u043b\u0438\n# 5. \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f (alpha=-5) \u043f\u0440\u043e\u0445\u043e\u0434\u044f\u0442 \u043d\u0435\u0437\u0430\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u043c\u0438\n\nalpha = config['train']['ridge']['alpha']  # \u041c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c\n</code></pre> <p>\u0421 Pydantic:</p> <pre><code>from wine_quality_epml.config.loader import load_config\n\n# \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439\nconfig = load_config('params.yaml')\n\n# \u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430:\n# 1. \u2713 \u0412\u0441\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043b\u043e\u0432\u044f\u0442\u0441\u044f \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435, \u043d\u0435 \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435\n# 2. \u2713 IDE \u0437\u043d\u0430\u0435\u0442 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0438 \u0434\u0430\u0435\u0442 \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\n# 3. \u2713 \u041e\u043f\u0435\u0447\u0430\u0442\u043a\u0438 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b - config.train.model_tipe \u2192 \u043e\u0448\u0438\u0431\u043a\u0430\n# 4. \u2713 \u0422\u0438\u043f\u044b \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b - alpha \u0432\u0441\u0435\u0433\u0434\u0430 float\n# 5. \u2713 \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 - alpha=-5 \u2192 ValidationError\n\nalpha = config.train.ridge.alpha  # \u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438 \u0432\u0430\u043b\u0438\u0434\u043d\u043e\n</code></pre>"},{"location":"pydantic_guide/#_1","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435","text":"<pre><code>ProjectConfig (\u043a\u043e\u0440\u0435\u043d\u044c)\n\u251c\u2500\u2500 split: SplitConfig\n\u2502   \u251c\u2500\u2500 seed: int (\u2265 0)\n\u2502   \u251c\u2500\u2500 test_size: float (0 &lt; x &lt; 1)\n\u2502   \u2514\u2500\u2500 eval_size: float (0 &lt; x &lt; 1)\n\u2502       \u2514\u2500\u2500 validator: test + eval &lt; 1.0\n\u2514\u2500\u2500 train: TrainConfig\n    \u251c\u2500\u2500 seed: int (\u2265 0)\n    \u251c\u2500\u2500 target_col: str\n    \u251c\u2500\u2500 model_type: Literal[10 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432]\n    \u251c\u2500\u2500 standardize: bool\n    \u251c\u2500\u2500 paths: PathsConfig (9 \u043f\u0443\u0442\u0435\u0439)\n    \u2514\u2500\u2500 model configs:\n        \u251c\u2500\u2500 ridge: RidgeConfig (alpha &gt; 0)\n        \u251c\u2500\u2500 lasso: LassoConfig (alpha &gt; 0)\n        \u251c\u2500\u2500 gbr: GradientBoostingConfig\n        \u2502   \u251c\u2500\u2500 n_estimators \u2265 1\n        \u2502   \u251c\u2500\u2500 learning_rate &gt; 0\n        \u2502   \u2514\u2500\u2500 max_depth \u2265 1\n        \u2514\u2500\u2500 ... (\u0435\u0449\u0435 7 \u043c\u043e\u0434\u0435\u043b\u0435\u0439)\n</code></pre>"},{"location":"pydantic_guide/#_2","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435","text":""},{"location":"pydantic_guide/#1_1","title":"1. \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<pre><code>from wine_quality_epml.config.loader import load_config\nfrom pydantic import ValidationError\n\ntry:\n    config = load_config('params.yaml')\n    print(f\"\u2713 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0432\u0430\u043b\u0438\u0434\u043d\u0430\")\n    print(f\"  \u041c\u043e\u0434\u0435\u043b\u044c: {config.train.model_type}\")\n    print(f\"  Seed: {config.train.seed}\")\nexcept ValidationError as e:\n    print(f\"\u2717 \u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\")\n    for error in e.errors():\n        loc = ' -&gt; '.join(str(x) for x in error['loc'])\n        print(f\"  \u2022 {loc}: {error['msg']}\")\n    exit(1)\n</code></pre>"},{"location":"pydantic_guide/#2","title":"2. \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c \u0441 \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c","text":"<pre><code># IDE \u0437\u043d\u0430\u0435\u0442 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0438 \u0438\u0445 \u0442\u0438\u043f\u044b\nconfig = load_config('params.yaml')\n\n# \u0410\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0432\u0441\u0435\u0445 \u0443\u0440\u043e\u0432\u043d\u044f\u0445\nmodel_type = config.train.model_type  # str\nseed = config.train.seed  # int\nalpha = config.train.ridge.alpha  # float\n\n# \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043c\u043e\u0434\u0435\u043b\u0438\nmodel_cfg = config.train.get_model_config()\nif config.train.model_type == \"ridge\":\n    print(f\"Ridge alpha: {model_cfg.alpha}\")\n</code></pre>"},{"location":"pydantic_guide/#3_1","title":"3. \u041a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439","text":"<pre><code># \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f + \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f\nconfig = load_config(\n    'params.yaml',\n    override_paths=['configs/ridge_baseline.yaml']\n)\n\n# \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 ridge_baseline.yaml \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442 params.yaml\n# \u041f\u0440\u0438 \u044d\u0442\u043e\u043c \u0432\u0441\u0435 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442\u0441\u044f!\n</code></pre>"},{"location":"pydantic_guide/#4-environment-variables","title":"4. Environment variables","text":"<pre><code># \u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f\nexport WINE_QUALITY_TRAIN__MODEL_TYPE=lasso\nexport WINE_QUALITY_TRAIN__LASSO__ALPHA=0.5\n\npython -m wine_quality_epml.pipeline.runner\n</code></pre> <pre><code># \u0412 \u043a\u043e\u0434\u0435 \u044d\u0442\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f\nconfig = load_config('params.yaml', apply_env=True)\n# config.train.model_type \u0431\u0443\u0434\u0435\u0442 'lasso'\n# config.train.lasso.alpha \u0431\u0443\u0434\u0435\u0442 0.5\n</code></pre>"},{"location":"pydantic_guide/#5-luigi-tasks","title":"5. \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0432 Luigi Tasks","text":"<pre><code>from wine_quality_epml.config.loader import load_config\n\nclass TrainModelTask(luigi.Task):\n    params_path = luigi.Parameter(default=\"params.yaml\")\n\n    def run(self):\n        # \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439\n        config = load_config(self.params_path)\n\n        # \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f:\n        # - model_type \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438 \u0432\u0430\u043b\u0438\u0434\u0435\u043d\n        # - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0434\u0435\u043b\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\n        # - \u043f\u0443\u0442\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442\n\n        model_type = config.train.model_type\n        model_cfg = config.train.get_model_config()\n\n        # \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\n        estimator = build_estimator(model_cfg)\n</code></pre>"},{"location":"pydantic_guide/#pydantic_4","title":"\u0427\u0442\u043e \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u0442 Pydantic \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435?","text":""},{"location":"pydantic_guide/#1_2","title":"1. \u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043e\u043f\u0435\u0447\u0430\u0442\u043e\u043a","text":"<pre><code># params.yaml \u0441 \u043e\u043f\u0435\u0447\u0430\u0442\u043a\u043e\u0439\ntrain:\n  model_tipe: ridge  # \u041e\u043f\u0435\u0447\u0430\u0442\u043a\u0430!\n</code></pre> <p>\u2192 ValidationError: model_type is required</p>"},{"location":"pydantic_guide/#2_1","title":"2. \u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439","text":"<pre><code>train:\n  ridge:\n    alpha: -5  # \u041e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!\n</code></pre> <p>\u2192 ValidationError: alpha must be &gt; 0</p>"},{"location":"pydantic_guide/#3_2","title":"3. \u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432","text":"<pre><code>split:\n  test_size: 0.6\n  eval_size: 0.5  # test + eval = 1.1 &gt; 1.0!\n</code></pre> <p>\u2192 ValidationError: test_size + eval_size must be &lt; 1.0</p>"},{"location":"pydantic_guide/#4_1","title":"4. \u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439","text":"<pre><code>train:\n  model_type: deep_neural_network  # \u041d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f!\n</code></pre> <p>\u2192 ValidationError: model_type \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437: linear, ridge, lasso, ...</p>"},{"location":"pydantic_guide/#5_1","title":"5. \u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u0435\u0439","text":"<pre><code>train:\n  # target_col \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d!\n  model_type: ridge\n</code></pre> <p>\u2192 ValidationError: target_col is required</p>"},{"location":"pydantic_guide/#_3","title":"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438","text":""},{"location":"pydantic_guide/#1_3","title":"1. \u0420\u0430\u043d\u043d\u0435\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<p>\u041e\u0448\u0438\u0431\u043a\u0438 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0434\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f, \u0430 \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 2 \u0447\u0430\u0441\u0430 \u043a\u043e\u0433\u0434\u0430 \u043c\u043e\u0434\u0435\u043b\u044c \u0443\u0436\u0435 \u043e\u0431\u0443\u0447\u0430\u0435\u0442\u0441\u044f.</p>"},{"location":"pydantic_guide/#2_2","title":"2. \u0421\u0430\u043c\u043e\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439\u0441\u044f \u043a\u043e\u0434","text":"<pre><code>class RidgeConfig(BaseModel):\n    \"\"\"Configuration for Ridge regression.\"\"\"\n\n    alpha: float = Field(\n        default=1.0,\n        gt=0.0,\n        description=\"Regularization strength, must be positive\"\n    )\n</code></pre> <p>\u041a\u043e\u0434 \u0441\u0430\u043c \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442 \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0438 \u043a\u0430\u043a\u0438\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0435\u0441\u0442\u044c.</p>"},{"location":"pydantic_guide/#3-ide","title":"3. IDE \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","text":"<ul> <li>\u0410\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u0435\u0439</li> <li>\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u0442\u0438\u043f\u043e\u0432</li> <li>\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e</li> <li>Ctrl+Click \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442 \u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044e</li> </ul>"},{"location":"pydantic_guide/#4_2","title":"4. \u041b\u0435\u0433\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>def test_invalid_config():\n    with pytest.raises(ValidationError):\n        ProjectConfig(\n            split=SplitConfig(seed=-5)  # \u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u2265 0\n        )\n</code></pre>"},{"location":"pydantic_guide/#5_2","title":"5. \u0412\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439","text":"<p>\u041c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e:</p> <pre><code>config = load_config('params.yaml')\nsave_config(config, 'configs/experiment_001.yaml')\n</code></pre>"},{"location":"pydantic_guide/#pydantic_5","title":"\u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Pydantic?","text":"<p>\u2705 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 Pydantic \u043a\u043e\u0433\u0434\u0430: - \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438\u0437 \u0444\u0430\u0439\u043b\u043e\u0432 (YAML, JSON, TOML) - \u0412\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - \u041e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0435 API \u0441\u0445\u0435\u043c\u044b (FastAPI) - \u041d\u0443\u0436\u043d\u0430 \u0441\u0442\u0440\u043e\u0433\u0430\u044f \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f \u0432 Python - \u0425\u043e\u0442\u0438\u0442\u0435 \u0440\u0430\u043d\u043d\u0435\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a</p> <p>\u274c \u041d\u0435 \u043d\u0443\u0436\u0435\u043d Pydantic \u043a\u043e\u0433\u0434\u0430: - \u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0431\u0435\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 - \u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0436\u0435 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 - \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u0430 (\u0445\u043e\u0442\u044f Pydantic \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0431\u044b\u0441\u0442\u0440)</p>"},{"location":"pydantic_guide/#_4","title":"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438","text":"<ul> <li>\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f Pydantic</li> <li>Pydantic V2 Migration Guide</li> <li>Validators and Computed Fields</li> </ul>"},{"location":"pydantic_guide/#_5","title":"\u0418\u0442\u043e\u0433\u043e","text":"<p>Pydantic \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0440\u0435\u0448\u0430\u0435\u0442: 1. \u2705 \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0434\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430 2. \u2705 \u0410\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0432 IDE 3. \u2705 \u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043e\u043f\u0435\u0447\u0430\u0442\u043e\u043a \u0438 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 4. \u2705 \u0421\u0430\u043c\u043e\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0435\u0441\u044f \u0441\u0445\u0435\u043c\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 5. \u2705 \u041b\u0435\u0433\u043a\u0430\u044f \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044f \u0438 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 6. \u2705 Environment variables support 7. \u2705 \u041f\u043e\u043d\u044f\u0442\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445</p> <p>\u0412\u043c\u0435\u0441\u0442\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \"\u0441\u044b\u0440\u044b\u0445\" dict \u0438\u0437 YAML \u043c\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435, \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0441 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f\u043c\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u0438 \u0435\u0449\u0435 \u0434\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f.</p>"},{"location":"api/config/","title":"Config API Reference","text":"<p>Configuration loader with YAML support and validation.</p> <p>Pydantic schemas for configuration validation.</p>"},{"location":"api/config/#wine_quality_epml.config.loader.apply_env_overrides","title":"<code>apply_env_overrides(config, prefix='WINE_QUALITY_')</code>","text":"<p>Apply environment variable overrides to configuration.</p> <p>Environment variables should be named like: WINE_QUALITY_TRAIN__MODEL_TYPE=ridge WINE_QUALITY_TRAIN__RIDGE__ALPHA=10.0</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>dict[str, Any]</code> <p>Configuration dictionary</p> required <code>prefix</code> <code>str</code> <p>Environment variable prefix</p> <code>'WINE_QUALITY_'</code> <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Configuration with environment overrides applied</p> Source code in <code>src/wine_quality_epml/config/loader.py</code> <pre><code>def apply_env_overrides(config: dict[str, Any], prefix: str = \"WINE_QUALITY_\") -&gt; dict[str, Any]:\n    \"\"\"Apply environment variable overrides to configuration.\n\n    Environment variables should be named like:\n    WINE_QUALITY_TRAIN__MODEL_TYPE=ridge\n    WINE_QUALITY_TRAIN__RIDGE__ALPHA=10.0\n\n    Args:\n        config: Configuration dictionary\n        prefix: Environment variable prefix\n\n    Returns:\n        Configuration with environment overrides applied\n    \"\"\"\n    result = config.copy()\n\n    for env_key, env_value in os.environ.items():\n        if not env_key.startswith(prefix):\n            continue\n\n        # Remove prefix and split by double underscore\n        config_path = env_key[len(prefix) :].lower().split(\"__\")\n\n        # Navigate to the right place in config\n        current = result\n        for key in config_path[:-1]:\n            if key not in current:\n                current[key] = {}\n            current = current[key]\n\n        # Set the value (try to parse as number/bool if possible)\n        final_key = config_path[-1]\n        parsed_value: Any = env_value\n\n        # Try to parse as bool\n        if env_value.lower() in (\"true\", \"false\"):\n            parsed_value = env_value.lower() == \"true\"\n        # Try to parse as number\n        else:\n            try:\n                if \".\" in env_value:\n                    parsed_value = float(env_value)\n                else:\n                    parsed_value = int(env_value)\n            except ValueError:\n                pass\n\n        current[final_key] = parsed_value\n\n    return result\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.loader.load_config","title":"<code>load_config(path, *, override_paths=None, apply_env=True, env_prefix='WINE_QUALITY_')</code>","text":"<p>Load and validate configuration from YAML file(s).</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str | Path</code> <p>Path to main configuration file</p> required <code>override_paths</code> <code>list[str | Path] | None</code> <p>Optional list of override configuration files</p> <code>None</code> <code>apply_env</code> <code>bool</code> <p>Whether to apply environment variable overrides</p> <code>True</code> <code>env_prefix</code> <code>str</code> <p>Prefix for environment variables</p> <code>'WINE_QUALITY_'</code> <p>Returns:</p> Type Description <code>ProjectConfig</code> <p>Validated ProjectConfig instance</p> <p>Raises:</p> Type Description <code>FileNotFoundError</code> <p>If configuration file not found</p> <code>ValidationError</code> <p>If configuration is invalid</p> <code>ValueError</code> <p>If YAML is malformed</p> Source code in <code>src/wine_quality_epml/config/loader.py</code> <pre><code>def load_config(\n    path: str | Path,\n    *,\n    override_paths: list[str | Path] | None = None,\n    apply_env: bool = True,\n    env_prefix: str = \"WINE_QUALITY_\",\n) -&gt; ProjectConfig:\n    \"\"\"Load and validate configuration from YAML file(s).\n\n    Args:\n        path: Path to main configuration file\n        override_paths: Optional list of override configuration files\n        apply_env: Whether to apply environment variable overrides\n        env_prefix: Prefix for environment variables\n\n    Returns:\n        Validated ProjectConfig instance\n\n    Raises:\n        FileNotFoundError: If configuration file not found\n        ValidationError: If configuration is invalid\n        ValueError: If YAML is malformed\n    \"\"\"\n    main_path = Path(path)\n    config_data = load_yaml(main_path)\n\n    # Merge with override configs\n    if override_paths:\n        override_configs = [load_yaml(Path(p)) for p in override_paths]\n        config_data = merge_configs(config_data, *override_configs)\n\n    # Apply environment variable overrides\n    if apply_env:\n        config_data = apply_env_overrides(config_data, prefix=env_prefix)\n\n    # Validate with Pydantic\n    try:\n        return ProjectConfig.model_validate(config_data)\n    except ValidationError:\n        # Re-raise with better formatting\n        raise\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.loader.load_yaml","title":"<code>load_yaml(path)</code>","text":"<p>Load YAML file and return as dictionary.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>Path</code> <p>Path to YAML file</p> required <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Dictionary with configuration data</p> <p>Raises:</p> Type Description <code>FileNotFoundError</code> <p>If file doesn't exist</p> <code>ValueError</code> <p>If YAML is invalid</p> Source code in <code>src/wine_quality_epml/config/loader.py</code> <pre><code>def load_yaml(path: Path) -&gt; dict[str, Any]:\n    \"\"\"Load YAML file and return as dictionary.\n\n    Args:\n        path: Path to YAML file\n\n    Returns:\n        Dictionary with configuration data\n\n    Raises:\n        FileNotFoundError: If file doesn't exist\n        ValueError: If YAML is invalid\n    \"\"\"\n    if not path.exists():\n        raise FileNotFoundError(f\"Configuration file not found: {path}\")\n\n    yaml = YAML(typ=\"safe\")\n    content = yaml.load(path.read_text(encoding=\"utf-8\"))\n\n    if not isinstance(content, dict):\n        raise ValueError(f\"Configuration file must contain a mapping at root: {path}\")\n\n    return content\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.loader.merge_configs","title":"<code>merge_configs(*configs)</code>","text":"<p>Merge multiple configuration dictionaries.</p> <p>Later configs override earlier ones.</p> <p>Parameters:</p> Name Type Description Default <code>*configs</code> <code>dict[str, Any]</code> <p>Configuration dictionaries to merge</p> <code>()</code> <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Merged configuration dictionary</p> Source code in <code>src/wine_quality_epml/config/loader.py</code> <pre><code>def merge_configs(*configs: dict[str, Any]) -&gt; dict[str, Any]:\n    \"\"\"Merge multiple configuration dictionaries.\n\n    Later configs override earlier ones.\n\n    Args:\n        *configs: Configuration dictionaries to merge\n\n    Returns:\n        Merged configuration dictionary\n    \"\"\"\n    result: dict[str, Any] = {}\n\n    for config in configs:\n        for key, value in config.items():\n            if isinstance(value, dict) and key in result and isinstance(result[key], dict):\n                # Recursively merge nested dicts\n                result[key] = merge_configs(result[key], value)\n            else:\n                result[key] = value\n\n    return result\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.loader.save_config","title":"<code>save_config(config, path)</code>","text":"<p>Save configuration to YAML file.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>ProjectConfig</code> <p>ProjectConfig instance to save</p> required <code>path</code> <code>str | Path</code> <p>Path where to save the configuration</p> required Source code in <code>src/wine_quality_epml/config/loader.py</code> <pre><code>def save_config(config: ProjectConfig, path: str | Path) -&gt; None:\n    \"\"\"Save configuration to YAML file.\n\n    Args:\n        config: ProjectConfig instance to save\n        path: Path where to save the configuration\n    \"\"\"\n    output_path = Path(path)\n    output_path.parent.mkdir(parents=True, exist_ok=True)\n\n    # Convert to dict and save as YAML\n    config_dict = config.model_dump(mode=\"python\", exclude_none=False)\n\n    yaml = YAML()\n    yaml.default_flow_style = False\n    with output_path.open(\"w\", encoding=\"utf-8\") as f:\n        yaml.dump(config_dict, f)\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.ElasticNetConfig","title":"<code>ElasticNetConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for ElasticNet regression.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class ElasticNetConfig(BaseModel):\n    \"\"\"Configuration for ElasticNet regression.\"\"\"\n\n    alpha: float = Field(default=0.01, gt=0.0, description=\"Regularization strength\")\n    l1_ratio: float = Field(default=0.5, ge=0.0, le=1.0, description=\"ElasticNet mixing parameter\")\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.ExtraTreesConfig","title":"<code>ExtraTreesConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for Extra Trees.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class ExtraTreesConfig(BaseModel):\n    \"\"\"Configuration for Extra Trees.\"\"\"\n\n    n_estimators: int = Field(default=100, ge=1, description=\"Number of trees\")\n    max_depth: int | None = Field(default=None, ge=1, description=\"Maximum tree depth\")\n    min_samples_split: int = Field(default=2, ge=2, description=\"Min samples to split\")\n    random_state: int | None = Field(default=42, ge=0)\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.GradientBoostingConfig","title":"<code>GradientBoostingConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for Gradient Boosting Regressor.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class GradientBoostingConfig(BaseModel):\n    \"\"\"Configuration for Gradient Boosting Regressor.\"\"\"\n\n    n_estimators: int = Field(default=100, ge=1, description=\"Number of boosting stages\")\n    learning_rate: float = Field(default=0.1, gt=0.0, description=\"Learning rate\")\n    max_depth: int = Field(default=3, ge=1, description=\"Maximum tree depth\")\n    random_state: int | None = Field(default=42, ge=0)\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.HistGradientBoostingConfig","title":"<code>HistGradientBoostingConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for Histogram Gradient Boosting.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class HistGradientBoostingConfig(BaseModel):\n    \"\"\"Configuration for Histogram Gradient Boosting.\"\"\"\n\n    max_iter: int = Field(default=100, ge=1, description=\"Maximum number of iterations\")\n    learning_rate: float = Field(default=0.1, gt=0.0, description=\"Learning rate\")\n    max_depth: int | None = Field(default=None, ge=1, description=\"Maximum tree depth\")\n    random_state: int | None = Field(default=42, ge=0)\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.KNNConfig","title":"<code>KNNConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for K-Nearest Neighbors.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class KNNConfig(BaseModel):\n    \"\"\"Configuration for K-Nearest Neighbors.\"\"\"\n\n    n_neighbors: int = Field(default=5, ge=1, description=\"Number of neighbors\")\n    weights: Literal[\"uniform\", \"distance\"] = Field(default=\"uniform\")\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.LassoConfig","title":"<code>LassoConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for Lasso regression.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class LassoConfig(BaseModel):\n    \"\"\"Configuration for Lasso regression.\"\"\"\n\n    alpha: float = Field(default=0.01, gt=0.0, description=\"Regularization strength\")\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.LinearConfig","title":"<code>LinearConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for LinearRegression.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class LinearConfig(BaseModel):\n    \"\"\"Configuration for LinearRegression.\"\"\"\n\n    fit_intercept: bool = Field(default=True)\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.PathsConfig","title":"<code>PathsConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for file paths.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class PathsConfig(BaseModel):\n    \"\"\"Configuration for file paths.\"\"\"\n\n    train: str = Field(default=\"data/splits/train.csv\")\n    eval: str = Field(default=\"data/splits/eval.csv\")\n    test: str = Field(default=\"data/splits/test.csv\")\n    model: str = Field(default=\"models/exp_model.pkl\")\n    meta: str = Field(default=\"models/exp_model_meta.json\")\n    train_eval_metrics: str = Field(default=\"reports/train_eval_metrics.json\")\n    test_metrics: str = Field(default=\"reports/test_metrics.json\")\n    predictions: str = Field(default=\"reports/predictions.csv\")\n    test_predictions: str = Field(default=\"reports/test_predictions.csv\")\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.ProjectConfig","title":"<code>ProjectConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Root configuration for the entire project.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class ProjectConfig(BaseModel):\n    \"\"\"Root configuration for the entire project.\"\"\"\n\n    split: SplitConfig = Field(default_factory=SplitConfig)\n    train: TrainConfig = Field(default_factory=TrainConfig)\n\n    @field_validator(\"train\")\n    @classmethod\n    def validate_standardize_for_tree_models(cls, v: TrainConfig) -&gt; TrainConfig:\n        \"\"\"Warn if standardize is True for tree-based models.\"\"\"\n        tree_models = {\"rf\", \"extra_trees\", \"gbr\", \"hgb\"}\n        if v.standardize and v.model_type in tree_models:\n            # Note: This is a warning, not an error, so we just pass\n            # In production, you might want to log a warning here\n            pass\n        return v\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.ProjectConfig.validate_standardize_for_tree_models","title":"<code>validate_standardize_for_tree_models(v)</code>  <code>classmethod</code>","text":"<p>Warn if standardize is True for tree-based models.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>@field_validator(\"train\")\n@classmethod\ndef validate_standardize_for_tree_models(cls, v: TrainConfig) -&gt; TrainConfig:\n    \"\"\"Warn if standardize is True for tree-based models.\"\"\"\n    tree_models = {\"rf\", \"extra_trees\", \"gbr\", \"hgb\"}\n    if v.standardize and v.model_type in tree_models:\n        # Note: This is a warning, not an error, so we just pass\n        # In production, you might want to log a warning here\n        pass\n    return v\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.RandomForestConfig","title":"<code>RandomForestConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for Random Forest.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class RandomForestConfig(BaseModel):\n    \"\"\"Configuration for Random Forest.\"\"\"\n\n    n_estimators: int = Field(default=100, ge=1, description=\"Number of trees\")\n    max_depth: int | None = Field(default=None, ge=1, description=\"Maximum tree depth\")\n    min_samples_split: int = Field(default=2, ge=2, description=\"Min samples to split\")\n    random_state: int | None = Field(default=42, ge=0)\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.RidgeConfig","title":"<code>RidgeConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for Ridge regression.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class RidgeConfig(BaseModel):\n    \"\"\"Configuration for Ridge regression.\"\"\"\n\n    alpha: float = Field(default=1.0, gt=0.0, description=\"Regularization strength\")\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.SVRConfig","title":"<code>SVRConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for Support Vector Regression.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class SVRConfig(BaseModel):\n    \"\"\"Configuration for Support Vector Regression.\"\"\"\n\n    kernel: Literal[\"linear\", \"poly\", \"rbf\", \"sigmoid\"] = Field(default=\"rbf\")\n    c: float = Field(default=1.0, gt=0.0, description=\"Regularization parameter\", alias=\"C\")\n    epsilon: float = Field(default=0.1, ge=0.0, description=\"Epsilon parameter\")\n    gamma: Union[Literal[\"scale\", \"auto\"], float] = Field(default=\"scale\")\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.SplitConfig","title":"<code>SplitConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for data splitting.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class SplitConfig(BaseModel):\n    \"\"\"Configuration for data splitting.\"\"\"\n\n    seed: int = Field(default=42, ge=0, description=\"Random seed for reproducibility\")\n    test_size: float = Field(default=0.15, gt=0.0, lt=1.0, description=\"Test set size\")\n    eval_size: float = Field(default=0.15, gt=0.0, lt=1.0, description=\"Eval set size\")\n\n    @model_validator(mode=\"after\")\n    def validate_total_size(self) -&gt; SplitConfig:\n        \"\"\"Validate that test_size + eval_size &lt; 1.0.\"\"\"\n        if self.test_size + self.eval_size &gt;= 1.0:\n            raise ValueError(\n                f\"test_size + eval_size must be &lt; 1.0, got {self.test_size + self.eval_size}\"\n            )\n        return self\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.SplitConfig.validate_total_size","title":"<code>validate_total_size()</code>","text":"<p>Validate that test_size + eval_size &lt; 1.0.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>@model_validator(mode=\"after\")\ndef validate_total_size(self) -&gt; SplitConfig:\n    \"\"\"Validate that test_size + eval_size &lt; 1.0.\"\"\"\n    if self.test_size + self.eval_size &gt;= 1.0:\n        raise ValueError(\n            f\"test_size + eval_size must be &lt; 1.0, got {self.test_size + self.eval_size}\"\n        )\n    return self\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.TrainConfig","title":"<code>TrainConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Configuration for model training.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>class TrainConfig(BaseModel):\n    \"\"\"Configuration for model training.\"\"\"\n\n    seed: int = Field(default=42, ge=0, description=\"Random seed\")\n    target_col: str = Field(default=\"quality\", description=\"Target column name\")\n    id_col: str = Field(default=\"Id\", description=\"ID column name\")\n    model_type: Literal[\n        \"linear\",\n        \"ridge\",\n        \"lasso\",\n        \"elasticnet\",\n        \"svr\",\n        \"knn\",\n        \"rf\",\n        \"extra_trees\",\n        \"gbr\",\n        \"hgb\",\n    ] = Field(default=\"linear\", description=\"Model type to train\")\n    standardize: bool = Field(\n        default=False, description=\"Whether to standardize features (not for tree models)\"\n    )\n    paths: PathsConfig = Field(default_factory=PathsConfig)\n\n    # Model-specific configurations\n    linear: LinearConfig = Field(default_factory=LinearConfig)\n    ridge: RidgeConfig = Field(default_factory=RidgeConfig)\n    lasso: LassoConfig = Field(default_factory=LassoConfig)\n    elasticnet: ElasticNetConfig = Field(default_factory=ElasticNetConfig)\n    svr: SVRConfig = Field(default_factory=SVRConfig)\n    knn: KNNConfig = Field(default_factory=KNNConfig)\n    rf: RandomForestConfig = Field(default_factory=RandomForestConfig)\n    extra_trees: ExtraTreesConfig = Field(default_factory=ExtraTreesConfig)\n    gbr: GradientBoostingConfig = Field(default_factory=GradientBoostingConfig)\n    hgb: HistGradientBoostingConfig = Field(default_factory=HistGradientBoostingConfig)\n\n    def get_model_config(self) -&gt; Any:\n        \"\"\"Get configuration for the selected model type.\"\"\"\n        config_map = {\n            \"linear\": self.linear,\n            \"ridge\": self.ridge,\n            \"lasso\": self.lasso,\n            \"elasticnet\": self.elasticnet,\n            \"svr\": self.svr,\n            \"knn\": self.knn,\n            \"rf\": self.rf,\n            \"extra_trees\": self.extra_trees,\n            \"gbr\": self.gbr,\n            \"hgb\": self.hgb,\n        }\n        return config_map[self.model_type]\n</code></pre>"},{"location":"api/config/#wine_quality_epml.config.schemas.TrainConfig.get_model_config","title":"<code>get_model_config()</code>","text":"<p>Get configuration for the selected model type.</p> Source code in <code>src/wine_quality_epml/config/schemas.py</code> <pre><code>def get_model_config(self) -&gt; Any:\n    \"\"\"Get configuration for the selected model type.\"\"\"\n    config_map = {\n        \"linear\": self.linear,\n        \"ridge\": self.ridge,\n        \"lasso\": self.lasso,\n        \"elasticnet\": self.elasticnet,\n        \"svr\": self.svr,\n        \"knn\": self.knn,\n        \"rf\": self.rf,\n        \"extra_trees\": self.extra_trees,\n        \"gbr\": self.gbr,\n        \"hgb\": self.hgb,\n    }\n    return config_map[self.model_type]\n</code></pre>"},{"location":"api/pipeline/","title":"Pipeline API Reference","text":"<p>Luigi task for splitting raw dataset into train/eval/test CSVs.</p> <p>Luigi task for training ML model with Pydantic configuration.</p> <p>Luigi task for testing trained ML model.</p> <p>Main entry point for running Luigi pipeline.</p>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.split_data_task.SplitDataTask","title":"<code>SplitDataTask</code>","text":"<p>               Bases: <code>Task</code></p> <p>Split raw dataset into train/eval/test splits with Pydantic validation.</p> Source code in <code>src/wine_quality_epml/pipeline/split_data_task.py</code> <pre><code>class SplitDataTask(luigi.Task):\n    \"\"\"Split raw dataset into train/eval/test splits with Pydantic validation.\"\"\"\n\n    raw_path = luigi.Parameter(default=\"data/raw/WineQT.csv\")\n    params_path = luigi.Parameter(default=\"params.yaml\")\n\n    def output(self) -&gt; dict[str, luigi.LocalTarget]:\n        \"\"\"Defines output files for caching.\"\"\"\n        split_dir = Path(\"data/splits\")\n        return {\n            \"train\": luigi.LocalTarget(str(split_dir / \"train.csv\")),\n            \"eval\": luigi.LocalTarget(str(split_dir / \"eval.csv\")),\n            \"test\": luigi.LocalTarget(str(split_dir / \"test.csv\")),\n        }\n\n    def run(self) -&gt; None:\n        \"\"\"Executes data splitting using validated Pydantic config.\"\"\"\n        config = self._load_config()\n        raw_path = Path(str(self.raw_path))\n\n        logger.info(f\"Loading raw data from {raw_path}\")\n\n        # Read source data\n        with raw_path.open() as f:\n            reader = csv.DictReader(f)\n            raw_rows = list(reader)\n\n        if not raw_rows:\n            raise ValueError(\"Raw dataset is empty.\")\n\n        fieldnames = list(raw_rows[0].keys())\n        logger.info(f\"Dataset: {len(raw_rows)} rows, {len(fieldnames)} columns\")\n\n        # Split data using Pydantic validated config\n        test_size = config.split.test_size\n        eval_size = config.split.eval_size\n        seed = config.split.seed\n\n        logger.info(f\"Splitting: test={test_size}, eval={eval_size}, seed={seed}\")\n\n        train_rows, temp_rows = train_test_split(\n            raw_rows,\n            test_size=test_size + eval_size,\n            random_state=seed,\n            shuffle=True,\n        )\n        relative_eval_size = eval_size / (test_size + eval_size)\n        eval_rows, test_rows = train_test_split(\n            temp_rows, test_size=relative_eval_size, random_state=seed, shuffle=True\n        )\n\n        logger.info(f\"Sizes: train={len(train_rows)}, eval={len(eval_rows)}, test={len(test_rows)}\")\n\n        # Write results\n        self._write_csv(self.output()[\"train\"].path, fieldnames, train_rows)\n        self._write_csv(self.output()[\"eval\"].path, fieldnames, eval_rows)\n        self._write_csv(self.output()[\"test\"].path, fieldnames, test_rows)\n\n        logger.info(\"\u2713 Data splitting completed\")\n\n    def _load_config(self) -&gt; ProjectConfig:\n        \"\"\"Load and validate configuration using Pydantic.\"\"\"\n        return load_config(str(self.params_path))\n\n    def _write_csv(self, path: str, fieldnames: list[str], rows: list[dict[str, str]]) -&gt; None:\n        \"\"\"Write CSV file.\"\"\"\n        output_path = Path(path)\n        output_path.parent.mkdir(parents=True, exist_ok=True)\n        with output_path.open(\"w\", newline=\"\") as f:\n            writer = csv.DictWriter(f, fieldnames=fieldnames)\n            writer.writeheader()\n            writer.writerows(rows)\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.split_data_task.SplitDataTask.output","title":"<code>output()</code>","text":"<p>Defines output files for caching.</p> Source code in <code>src/wine_quality_epml/pipeline/split_data_task.py</code> <pre><code>def output(self) -&gt; dict[str, luigi.LocalTarget]:\n    \"\"\"Defines output files for caching.\"\"\"\n    split_dir = Path(\"data/splits\")\n    return {\n        \"train\": luigi.LocalTarget(str(split_dir / \"train.csv\")),\n        \"eval\": luigi.LocalTarget(str(split_dir / \"eval.csv\")),\n        \"test\": luigi.LocalTarget(str(split_dir / \"test.csv\")),\n    }\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.split_data_task.SplitDataTask.run","title":"<code>run()</code>","text":"<p>Executes data splitting using validated Pydantic config.</p> Source code in <code>src/wine_quality_epml/pipeline/split_data_task.py</code> <pre><code>def run(self) -&gt; None:\n    \"\"\"Executes data splitting using validated Pydantic config.\"\"\"\n    config = self._load_config()\n    raw_path = Path(str(self.raw_path))\n\n    logger.info(f\"Loading raw data from {raw_path}\")\n\n    # Read source data\n    with raw_path.open() as f:\n        reader = csv.DictReader(f)\n        raw_rows = list(reader)\n\n    if not raw_rows:\n        raise ValueError(\"Raw dataset is empty.\")\n\n    fieldnames = list(raw_rows[0].keys())\n    logger.info(f\"Dataset: {len(raw_rows)} rows, {len(fieldnames)} columns\")\n\n    # Split data using Pydantic validated config\n    test_size = config.split.test_size\n    eval_size = config.split.eval_size\n    seed = config.split.seed\n\n    logger.info(f\"Splitting: test={test_size}, eval={eval_size}, seed={seed}\")\n\n    train_rows, temp_rows = train_test_split(\n        raw_rows,\n        test_size=test_size + eval_size,\n        random_state=seed,\n        shuffle=True,\n    )\n    relative_eval_size = eval_size / (test_size + eval_size)\n    eval_rows, test_rows = train_test_split(\n        temp_rows, test_size=relative_eval_size, random_state=seed, shuffle=True\n    )\n\n    logger.info(f\"Sizes: train={len(train_rows)}, eval={len(eval_rows)}, test={len(test_rows)}\")\n\n    # Write results\n    self._write_csv(self.output()[\"train\"].path, fieldnames, train_rows)\n    self._write_csv(self.output()[\"eval\"].path, fieldnames, eval_rows)\n    self._write_csv(self.output()[\"test\"].path, fieldnames, test_rows)\n\n    logger.info(\"\u2713 Data splitting completed\")\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.train_model_task.TrainModelTask","title":"<code>TrainModelTask</code>","text":"<p>               Bases: <code>Task</code></p> <p>Train sklearn model using validated Pydantic configuration.</p> Source code in <code>src/wine_quality_epml/pipeline/train_model_task.py</code> <pre><code>class TrainModelTask(luigi.Task):\n    \"\"\"Train sklearn model using validated Pydantic configuration.\"\"\"\n\n    params_path = luigi.Parameter(default=\"params.yaml\")\n\n    def requires(self) -&gt; SplitDataTask:\n        \"\"\"Depends on data splitting.\"\"\"\n        return SplitDataTask(params_path=self.params_path)\n\n    def output(self) -&gt; dict[str, luigi.LocalTarget]:\n        \"\"\"Defines output files.\"\"\"\n        config = self._load_config()\n        paths = config.train.paths\n        return {\n            \"model\": luigi.LocalTarget(paths.model),\n            \"meta\": luigi.LocalTarget(paths.meta),\n            \"metrics\": luigi.LocalTarget(paths.train_eval_metrics),\n            \"predictions\": luigi.LocalTarget(paths.predictions),\n        }\n\n    def run(self) -&gt; None:\n        \"\"\"Executes model training with validated config.\"\"\"\n        config = self._load_config()\n        train_cfg = config.train\n        paths = train_cfg.paths\n\n        logger.info(f\"Training {train_cfg.model_type} model\")\n        logger.info(f\"Seed: {train_cfg.seed}, Standardize: {train_cfg.standardize}\")\n\n        # Load data\n        train_path = Path(paths.train)\n        eval_path = Path(paths.eval)\n        x_train, y_train, feature_names = self._load_csv_dataset(\n            train_path, target_col=train_cfg.target_col, id_col=train_cfg.id_col\n        )\n        x_eval, y_eval, _ = self._load_csv_dataset(\n            eval_path, target_col=train_cfg.target_col, id_col=train_cfg.id_col\n        )\n\n        logger.info(f\"Train size: {len(y_train)}, Eval size: {len(y_eval)}\")\n\n        # Build model using Pydantic validated config\n        model_type = train_cfg.model_type\n        estimator = self._build_estimator(config)\n        standardize = train_cfg.standardize and model_type not in {\n            \"rf\",\n            \"extra_trees\",\n            \"gbr\",\n            \"hgb\",\n        }\n\n        if standardize:\n            logger.info(\"Building pipeline with StandardScaler\")\n            model: Any = Pipeline([(\"scaler\", StandardScaler()), (\"model\", estimator)])\n        else:\n            model = estimator\n\n        # Train model\n        logger.info(\"Starting model training...\")\n        with timer() as fit_timer:\n            model.fit(x_train, y_train)\n        logger.info(f\"Training completed in {fit_timer.seconds:.2f}s\")\n\n        # Make predictions\n        train_pred = list(model.predict(x_train))\n        eval_pred = list(model.predict(x_eval))\n\n        # Compute metrics\n        train_metrics = self._compute_metrics(\n            y_true=y_train, y_pred=train_pred, split=\"train\", fit_timer=fit_timer\n        )\n        eval_metrics = self._compute_metrics(y_true=y_eval, y_pred=eval_pred, split=\"eval\")\n\n        logger.info(f\"Train RMSE: {train_metrics['rmse']:.4f}, R\u00b2: {train_metrics['r2']:.4f}\")\n        logger.info(f\"Eval RMSE: {eval_metrics['rmse']:.4f}, R\u00b2: {eval_metrics['r2']:.4f}\")\n\n        # Save model\n        model_path = Path(self.output()[\"model\"].path)\n        model_path.parent.mkdir(parents=True, exist_ok=True)\n        joblib.dump(model, model_path)\n        logger.info(f\"Model saved to {model_path}\")\n\n        # Save metadata\n        meta = {\n            \"model_type\": model_type,\n            \"standardize\": standardize,\n            \"target_col\": train_cfg.target_col,\n            \"id_col\": train_cfg.id_col,\n            \"feature_names\": feature_names,\n            \"train_path\": str(train_path),\n            \"eval_path\": str(eval_path),\n            \"sklearn\": {\n                \"estimator_class\": estimator.__class__.__name__,\n                \"estimator_module\": estimator.__class__.__module__,\n            },\n            \"hyperparams\": train_cfg.get_model_config().model_dump(),\n        }\n        meta_path = Path(self.output()[\"meta\"].path)\n        meta_path.parent.mkdir(parents=True, exist_ok=True)\n        meta_path.write_text(\n            json.dumps(meta, indent=2, ensure_ascii=False) + \"\\n\", encoding=\"utf-8\"\n        )\n\n        # Save metrics\n        write_json(\n            Path(self.output()[\"metrics\"].path),\n            {\n                \"model_type\": model_type,\n                \"standardize\": standardize,\n                \"train\": train_metrics,\n                \"eval\": eval_metrics,\n            },\n        )\n\n        # Save predictions\n        rows: list[list[Any]] = []\n        for y_true, y_pred in zip(y_eval, eval_pred, strict=False):\n            rows.append([\"eval\", y_true, y_pred])\n        for y_true, y_pred in zip(y_train, train_pred, strict=False):\n            rows.append([\"train\", y_true, y_pred])\n        write_csv(\n            Path(self.output()[\"predictions\"].path),\n            header=[\"split\", \"y_true\", \"y_pred\"],\n            rows=rows,\n        )\n\n        logger.info(\"\u2713 Model training completed successfully\")\n\n    def _load_config(self) -&gt; ProjectConfig:\n        \"\"\"Load and validate configuration using Pydantic.\"\"\"\n        return load_config(str(self.params_path))\n\n    def _load_csv_dataset(\n        self, path: Path, *, target_col: str, id_col: str\n    ) -&gt; tuple[list[list[float]], list[float], list[str]]:\n        \"\"\"Load dataset from CSV.\"\"\"\n        import csv\n\n        rows = list(csv.DictReader(path.open(encoding=\"utf-8\")))\n        if not rows:\n            raise ValueError(f\"Dataset is empty: {path}\")\n\n        fieldnames = list(rows[0].keys())\n        feature_cols = [c for c in fieldnames if c not in {target_col, id_col}]\n\n        features: list[list[float]] = []\n        target: list[float] = []\n        for row in rows:\n            target.append(float(row[target_col]))\n            features.append([float(row[col]) for col in feature_cols])\n        return features, target, feature_cols\n\n    def _build_estimator(self, config: ProjectConfig) -&gt; Any:\n        \"\"\"Build estimator from validated Pydantic config.\"\"\"\n        model_type = config.train.model_type\n        model_cfg = config.train.get_model_config()\n\n        if model_type == \"linear\":\n            return LinearRegression(**model_cfg.model_dump())\n        if model_type == \"ridge\":\n            return Ridge(**model_cfg.model_dump())\n        if model_type == \"lasso\":\n            return Lasso(**model_cfg.model_dump())\n        if model_type == \"elasticnet\":\n            return ElasticNet(**model_cfg.model_dump())\n        if model_type == \"svr\":\n            # SVR uses 'c' (lowercase) in our config but sklearn expects 'C' (uppercase)\n            cfg_dict = model_cfg.model_dump()\n            cfg_dict[\"C\"] = cfg_dict.pop(\"c\")\n            return SVR(**cfg_dict)\n        if model_type == \"knn\":\n            return KNeighborsRegressor(**model_cfg.model_dump())\n        if model_type == \"rf\":\n            return RandomForestRegressor(**model_cfg.model_dump())\n        if model_type == \"extra_trees\":\n            return ExtraTreesRegressor(**model_cfg.model_dump())\n        if model_type == \"gbr\":\n            return GradientBoostingRegressor(**model_cfg.model_dump())\n        if model_type == \"hgb\":\n            return HistGradientBoostingRegressor(**model_cfg.model_dump())\n\n        raise ValueError(f\"Unsupported model_type={model_type!r}\")\n\n    def _compute_metrics(\n        self,\n        *,\n        y_true: list[float],\n        y_pred: list[float],\n        split: str,\n        fit_timer: Timer | None = None,\n    ) -&gt; dict[str, Any]:\n        \"\"\"Compute model metrics.\"\"\"\n        mse = float(mean_squared_error(y_true, y_pred))\n        return {\n            \"split\": split,\n            \"n\": len(y_true),\n            \"mae\": float(mean_absolute_error(y_true, y_pred)),\n            \"mse\": mse,\n            \"rmse\": float(mse**0.5),\n            \"r2\": float(r2_score(y_true, y_pred)),\n            **({\"fit_seconds\": float(fit_timer.seconds)} if fit_timer else {}),\n        }\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.train_model_task.TrainModelTask.output","title":"<code>output()</code>","text":"<p>Defines output files.</p> Source code in <code>src/wine_quality_epml/pipeline/train_model_task.py</code> <pre><code>def output(self) -&gt; dict[str, luigi.LocalTarget]:\n    \"\"\"Defines output files.\"\"\"\n    config = self._load_config()\n    paths = config.train.paths\n    return {\n        \"model\": luigi.LocalTarget(paths.model),\n        \"meta\": luigi.LocalTarget(paths.meta),\n        \"metrics\": luigi.LocalTarget(paths.train_eval_metrics),\n        \"predictions\": luigi.LocalTarget(paths.predictions),\n    }\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.train_model_task.TrainModelTask.requires","title":"<code>requires()</code>","text":"<p>Depends on data splitting.</p> Source code in <code>src/wine_quality_epml/pipeline/train_model_task.py</code> <pre><code>def requires(self) -&gt; SplitDataTask:\n    \"\"\"Depends on data splitting.\"\"\"\n    return SplitDataTask(params_path=self.params_path)\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.train_model_task.TrainModelTask.run","title":"<code>run()</code>","text":"<p>Executes model training with validated config.</p> Source code in <code>src/wine_quality_epml/pipeline/train_model_task.py</code> <pre><code>def run(self) -&gt; None:\n    \"\"\"Executes model training with validated config.\"\"\"\n    config = self._load_config()\n    train_cfg = config.train\n    paths = train_cfg.paths\n\n    logger.info(f\"Training {train_cfg.model_type} model\")\n    logger.info(f\"Seed: {train_cfg.seed}, Standardize: {train_cfg.standardize}\")\n\n    # Load data\n    train_path = Path(paths.train)\n    eval_path = Path(paths.eval)\n    x_train, y_train, feature_names = self._load_csv_dataset(\n        train_path, target_col=train_cfg.target_col, id_col=train_cfg.id_col\n    )\n    x_eval, y_eval, _ = self._load_csv_dataset(\n        eval_path, target_col=train_cfg.target_col, id_col=train_cfg.id_col\n    )\n\n    logger.info(f\"Train size: {len(y_train)}, Eval size: {len(y_eval)}\")\n\n    # Build model using Pydantic validated config\n    model_type = train_cfg.model_type\n    estimator = self._build_estimator(config)\n    standardize = train_cfg.standardize and model_type not in {\n        \"rf\",\n        \"extra_trees\",\n        \"gbr\",\n        \"hgb\",\n    }\n\n    if standardize:\n        logger.info(\"Building pipeline with StandardScaler\")\n        model: Any = Pipeline([(\"scaler\", StandardScaler()), (\"model\", estimator)])\n    else:\n        model = estimator\n\n    # Train model\n    logger.info(\"Starting model training...\")\n    with timer() as fit_timer:\n        model.fit(x_train, y_train)\n    logger.info(f\"Training completed in {fit_timer.seconds:.2f}s\")\n\n    # Make predictions\n    train_pred = list(model.predict(x_train))\n    eval_pred = list(model.predict(x_eval))\n\n    # Compute metrics\n    train_metrics = self._compute_metrics(\n        y_true=y_train, y_pred=train_pred, split=\"train\", fit_timer=fit_timer\n    )\n    eval_metrics = self._compute_metrics(y_true=y_eval, y_pred=eval_pred, split=\"eval\")\n\n    logger.info(f\"Train RMSE: {train_metrics['rmse']:.4f}, R\u00b2: {train_metrics['r2']:.4f}\")\n    logger.info(f\"Eval RMSE: {eval_metrics['rmse']:.4f}, R\u00b2: {eval_metrics['r2']:.4f}\")\n\n    # Save model\n    model_path = Path(self.output()[\"model\"].path)\n    model_path.parent.mkdir(parents=True, exist_ok=True)\n    joblib.dump(model, model_path)\n    logger.info(f\"Model saved to {model_path}\")\n\n    # Save metadata\n    meta = {\n        \"model_type\": model_type,\n        \"standardize\": standardize,\n        \"target_col\": train_cfg.target_col,\n        \"id_col\": train_cfg.id_col,\n        \"feature_names\": feature_names,\n        \"train_path\": str(train_path),\n        \"eval_path\": str(eval_path),\n        \"sklearn\": {\n            \"estimator_class\": estimator.__class__.__name__,\n            \"estimator_module\": estimator.__class__.__module__,\n        },\n        \"hyperparams\": train_cfg.get_model_config().model_dump(),\n    }\n    meta_path = Path(self.output()[\"meta\"].path)\n    meta_path.parent.mkdir(parents=True, exist_ok=True)\n    meta_path.write_text(\n        json.dumps(meta, indent=2, ensure_ascii=False) + \"\\n\", encoding=\"utf-8\"\n    )\n\n    # Save metrics\n    write_json(\n        Path(self.output()[\"metrics\"].path),\n        {\n            \"model_type\": model_type,\n            \"standardize\": standardize,\n            \"train\": train_metrics,\n            \"eval\": eval_metrics,\n        },\n    )\n\n    # Save predictions\n    rows: list[list[Any]] = []\n    for y_true, y_pred in zip(y_eval, eval_pred, strict=False):\n        rows.append([\"eval\", y_true, y_pred])\n    for y_true, y_pred in zip(y_train, train_pred, strict=False):\n        rows.append([\"train\", y_true, y_pred])\n    write_csv(\n        Path(self.output()[\"predictions\"].path),\n        header=[\"split\", \"y_true\", \"y_pred\"],\n        rows=rows,\n    )\n\n    logger.info(\"\u2713 Model training completed successfully\")\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.test_model_task.TestModelTask","title":"<code>TestModelTask</code>","text":"<p>               Bases: <code>Task</code></p> <p>Evaluate trained model on test split with Pydantic validation.</p> Source code in <code>src/wine_quality_epml/pipeline/test_model_task.py</code> <pre><code>class TestModelTask(luigi.Task):\n    \"\"\"Evaluate trained model on test split with Pydantic validation.\"\"\"\n\n    params_path = luigi.Parameter(default=\"params.yaml\")\n\n    def requires(self) -&gt; TrainModelTask:\n        \"\"\"Depends on model training.\"\"\"\n        return TrainModelTask(params_path=self.params_path)\n\n    def output(self) -&gt; dict[str, luigi.LocalTarget]:\n        \"\"\"Defines output files.\"\"\"\n        config = self._load_config()\n        paths = config.train.paths\n        return {\n            \"metrics\": luigi.LocalTarget(paths.test_metrics),\n            \"predictions\": luigi.LocalTarget(paths.test_predictions),\n        }\n\n    def run(self) -&gt; None:\n        \"\"\"Executes model testing with validated config.\"\"\"\n        config = self._load_config()\n        train_cfg = config.train\n        paths = train_cfg.paths\n\n        logger.info(\"Testing model on test split\")\n\n        # Load model\n        model_path = Path(paths.model)\n        logger.info(f\"Loading model from {model_path}\")\n        model = joblib.load(model_path)\n\n        # Load test data\n        test_path = Path(paths.test)\n        x_test, y_test = self._load_csv_dataset(\n            test_path, target_col=train_cfg.target_col, id_col=train_cfg.id_col\n        )\n\n        logger.info(f\"Test size: {len(y_test)}\")\n\n        # Make predictions\n        y_pred = list(model.predict(x_test))\n\n        # Compute metrics\n        mse = float(mean_squared_error(y_test, y_pred))\n        metrics = {\n            \"split\": \"test\",\n            \"n\": len(y_test),\n            \"mae\": float(mean_absolute_error(y_test, y_pred)),\n            \"mse\": mse,\n            \"rmse\": float(mse**0.5),\n            \"r2\": float(r2_score(y_test, y_pred)),\n        }\n\n        logger.info(f\"Test RMSE: {metrics['rmse']:.4f}, R\u00b2: {metrics['r2']:.4f}\")\n\n        # Save metrics\n        write_json(Path(self.output()[\"metrics\"].path), metrics)\n\n        # Save predictions\n        rows: list[list[Any]] = []\n        for y_true, y_hat in zip(y_test, y_pred, strict=False):\n            rows.append([\"test\", y_true, y_hat])\n        write_csv(\n            Path(self.output()[\"predictions\"].path),\n            header=[\"split\", \"y_true\", \"y_pred\"],\n            rows=rows,\n        )\n\n        logger.info(\"\u2713 Model testing completed successfully\")\n        logger.info(\n            f\"Pipeline summary: Model={config.train.model_type}, \"\n            f\"Test RMSE={metrics['rmse']:.4f}, R\u00b2={metrics['r2']:.4f}\"\n        )\n\n    def _load_config(self) -&gt; ProjectConfig:\n        \"\"\"Load and validate configuration using Pydantic.\"\"\"\n        return load_config(str(self.params_path))\n\n    def _load_csv_dataset(\n        self, path: Path, *, target_col: str, id_col: str\n    ) -&gt; tuple[list[list[float]], list[float]]:\n        \"\"\"Load dataset from CSV.\"\"\"\n        import csv\n\n        rows = list(csv.DictReader(path.open(encoding=\"utf-8\")))\n        if not rows:\n            raise ValueError(f\"Dataset is empty: {path}\")\n\n        fieldnames = list(rows[0].keys())\n        feature_cols = [c for c in fieldnames if c not in {target_col, id_col}]\n\n        features: list[list[float]] = []\n        target: list[float] = []\n        for row in rows:\n            target.append(float(row[target_col]))\n            features.append([float(row[col]) for col in feature_cols])\n        return features, target\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.test_model_task.TestModelTask.output","title":"<code>output()</code>","text":"<p>Defines output files.</p> Source code in <code>src/wine_quality_epml/pipeline/test_model_task.py</code> <pre><code>def output(self) -&gt; dict[str, luigi.LocalTarget]:\n    \"\"\"Defines output files.\"\"\"\n    config = self._load_config()\n    paths = config.train.paths\n    return {\n        \"metrics\": luigi.LocalTarget(paths.test_metrics),\n        \"predictions\": luigi.LocalTarget(paths.test_predictions),\n    }\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.test_model_task.TestModelTask.requires","title":"<code>requires()</code>","text":"<p>Depends on model training.</p> Source code in <code>src/wine_quality_epml/pipeline/test_model_task.py</code> <pre><code>def requires(self) -&gt; TrainModelTask:\n    \"\"\"Depends on model training.\"\"\"\n    return TrainModelTask(params_path=self.params_path)\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.test_model_task.TestModelTask.run","title":"<code>run()</code>","text":"<p>Executes model testing with validated config.</p> Source code in <code>src/wine_quality_epml/pipeline/test_model_task.py</code> <pre><code>def run(self) -&gt; None:\n    \"\"\"Executes model testing with validated config.\"\"\"\n    config = self._load_config()\n    train_cfg = config.train\n    paths = train_cfg.paths\n\n    logger.info(\"Testing model on test split\")\n\n    # Load model\n    model_path = Path(paths.model)\n    logger.info(f\"Loading model from {model_path}\")\n    model = joblib.load(model_path)\n\n    # Load test data\n    test_path = Path(paths.test)\n    x_test, y_test = self._load_csv_dataset(\n        test_path, target_col=train_cfg.target_col, id_col=train_cfg.id_col\n    )\n\n    logger.info(f\"Test size: {len(y_test)}\")\n\n    # Make predictions\n    y_pred = list(model.predict(x_test))\n\n    # Compute metrics\n    mse = float(mean_squared_error(y_test, y_pred))\n    metrics = {\n        \"split\": \"test\",\n        \"n\": len(y_test),\n        \"mae\": float(mean_absolute_error(y_test, y_pred)),\n        \"mse\": mse,\n        \"rmse\": float(mse**0.5),\n        \"r2\": float(r2_score(y_test, y_pred)),\n    }\n\n    logger.info(f\"Test RMSE: {metrics['rmse']:.4f}, R\u00b2: {metrics['r2']:.4f}\")\n\n    # Save metrics\n    write_json(Path(self.output()[\"metrics\"].path), metrics)\n\n    # Save predictions\n    rows: list[list[Any]] = []\n    for y_true, y_hat in zip(y_test, y_pred, strict=False):\n        rows.append([\"test\", y_true, y_hat])\n    write_csv(\n        Path(self.output()[\"predictions\"].path),\n        header=[\"split\", \"y_true\", \"y_pred\"],\n        rows=rows,\n    )\n\n    logger.info(\"\u2713 Model testing completed successfully\")\n    logger.info(\n        f\"Pipeline summary: Model={config.train.model_type}, \"\n        f\"Test RMSE={metrics['rmse']:.4f}, R\u00b2={metrics['r2']:.4f}\"\n    )\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.runner.main","title":"<code>main()</code>","text":"<p>Run the complete ML pipeline.</p> Source code in <code>src/wine_quality_epml/pipeline/runner.py</code> <pre><code>def main() -&gt; int:\n    \"\"\"Run the complete ML pipeline.\"\"\"\n    args = parse_args()\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0447\u0435\u0440\u0435\u0437 TestModelTask (\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445)\n    success = luigi.build(\n        [TestModelTask(params_path=args.params)],\n        workers=args.workers,\n        local_scheduler=args.local_scheduler,\n    )\n\n    return 0 if success else 1\n</code></pre>"},{"location":"api/pipeline/#wine_quality_epml.pipeline.runner.parse_args","title":"<code>parse_args()</code>","text":"<p>Parse command line arguments.</p> Source code in <code>src/wine_quality_epml/pipeline/runner.py</code> <pre><code>def parse_args() -&gt; argparse.Namespace:\n    \"\"\"Parse command line arguments.\"\"\"\n    parser = argparse.ArgumentParser(description=\"Run Luigi ML pipeline\")\n    parser.add_argument(\n        \"--params\",\n        default=\"params.yaml\",\n        help=\"Path to params.yaml configuration file\",\n    )\n    parser.add_argument(\n        \"--workers\",\n        type=int,\n        default=1,\n        help=\"Number of parallel workers for Luigi\",\n    )\n    parser.add_argument(\n        \"--local-scheduler\",\n        action=\"store_true\",\n        help=\"Use local scheduler instead of Luigi daemon\",\n    )\n    return parser.parse_args()\n</code></pre>"}]}